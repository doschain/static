(this.webpackJsonpdemos_dapp=this.webpackJsonpdemos_dapp||[]).push([[1],{144:function(e,t,n){e.exports=n(283)},149:function(e,t,n){},170:function(e,t){},172:function(e,t){},183:function(e,t){},199:function(e,t){},219:function(e,t){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(92),i=n.n(r),l=(n(149),n(12)),o=n.n(l),s=n(9),u=n(60),d=n(20),m=(n(151),n(228),n(126)),f=n(5),p=n(31),v=function(){return c.a.createElement("div",{className:"layout-loading"})},h=Object(p.a)((function(){return Promise.all([n.e(0),n.e(9),n.e(4)]).then(n.bind(null,327))}),{fallback:c.a.createElement(v,null)}),b=Object(p.a)((function(){return n.e(8).then(n.bind(null,328))}),{fallback:c.a.createElement(v,null)}),E=Object(p.a)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,329))}),{fallback:c.a.createElement(v,null)}),g=Object(p.a)((function(){return n.e(6).then(n.bind(null,330))}),{fallback:c.a.createElement(v,null)}),y=Object(p.a)((function(){return n.e(7).then(n.bind(null,331))}),{fallback:c.a.createElement(v,null)}),O=function(){return c.a.createElement(m.a,null,c.a.createElement(f.c,null,c.a.createElement(f.a,{exact:!0,path:"/",component:h}),c.a.createElement(f.a,{exact:!0,path:"/dapp_detail/:id",component:b}),c.a.createElement(f.a,{exact:!0,path:"/dapp_buy/:id",component:E}),c.a.createElement(f.a,{exact:!0,path:"/history",component:g}),c.a.createElement(f.a,{exact:!0,path:"/history_detail/:id",component:y})))},j=n(89),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useCallback)((function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),e)}))}),[]);return[c,i]};var w=function(){var e=k({wallet_address:"",target_address:"",contract:""}),t=Object(d.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("localStore"),a=Object(s.a)({},n),t&&(t=JSON.parse(t),a.contract=null===(c=t)||void 0===c?void 0:c.contract,a.target_address=null===(i=t)||void 0===i?void 0:i.target_address),r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.demos.getIdentity();case 2:t=e.sent,n=t.address,"DOS"===t.currency?r({wallet_address:n}):console.log("\u8bf7\u5207\u6362\u5230DOS\u94b1\u5305\u518d\u8bd5");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i(),function(){e.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"app"},c.a.createElement(j.d.Provider,{value:Object(s.a)(Object(s.a)({},n),{},{updateStore:function(e){var t=Object(s.a)(Object(s.a)({},n),e);r(e),sessionStorage.setItem("localStore",JSON.stringify(t))}})},c.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=document.getElementsByTagName("html")[0],t=function(){e.style.fontSize=Math.min(document.body.clientWidth/7.5,100)+"px"};window.addEventListener("resize",t,!1),t()}(),i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return w}));n(141);var a=n(0),c=n.n(a),r=c.a.createContext(null),i=(n(233),n(139)),l=n.n(i),o=n(9);n(272);var s=function(e){var t=e.style,n=void 0===t?{}:t,a=e.loadingText;return c.a.createElement("div",{style:Object(o.a)({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},n)},c.a.createElement(l.a,{size:"large",text:a,className:"spin"}))},u=(n(273),n(5));var d=Object(u.f)((function(e){var t=e.children,n=e.title,a=void 0===n?"":n,r=e.history;return c.a.createElement("div",{className:"basic_layout"},c.a.createElement("div",{className:"basic_layout-header"},c.a.createElement("div",{className:"leading",onClick:function(){r.goBack()}},c.a.createElement("img",{src:"".concat("https://cdn.jsdelivr.net/gh/doschain/static/subscribe4","/images/arrow_left.png"),alt:""})),c.a.createElement("div",{className:"title"},a),c.a.createElement("div",{className:"action"})),t)})),m=n(20);n(274);var f=function(e){var t,n,r=e.id,i=e.name,l=e.logo,o=e.price,s=e.time,u=e.status,d=e.onClick,f=e.now,p=e.onCD,v=Object(a.useState)(!1),h=Object(m.a)(v,2),b=h[0],E=h[1];switch(Object(a.useEffect)((function(){p&&s&&0===u&&s+86400-f<=0&&!b&&(E(!0),setTimeout((function(){p(!1)}),6e3))}),[f]),u){case 0:t="pending";break;case 1:t="success";break;case 2:t="failed"}function g(e){return String(e).replace(/^(?=(\d))\1$/,"0$1")}return c.a.createElement("div",{className:"dapp_card",onClick:function(){d&&d(r)}},c.a.createElement("div",{className:"img"},c.a.createElement("img",{src:l,alt:i})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"t1"},i),c.a.createElement("div",{style:{height:"0.1rem"}}),c.a.createElement("div",{className:"t2"},"\u4ef7\u683c: ",o/1e8,"DOS"),c.a.createElement("div",{style:{height:"0.1rem"}}),b&&0===u?c.a.createElement("div",{className:"t3"},"\u66f4\u65b0\u72b6\u6001\u4e2d\uff0c\u8bf7\u7a0d\u540e..."):s&&0===u?c.a.createElement("div",{className:"t3"},"\u7533\u8d2d\u5012\u8ba1\u65f6: ",(n=s+86400-f)<=0?"00:00:00":"".concat(g(parseInt(n/3600)),":").concat(g(parseInt(n/60%60)),":").concat(g(n%60))):null),t&&c.a.createElement("div",{className:"tag"},c.a.createElement("img",{src:"".concat("https://cdn.jsdelivr.net/gh/doschain/static/subscribe4","/images/tag_").concat(t,".png"),alt:""})))},p=(n(275),n(140)),v=n.n(p),h=(n(143),n(138)),b=n.n(h),E=function(e){var t=e.title,n=e.history,r=e.children,i=e.onLeftClick;Object(a.useEffect)((function(){document.title=t}),[]);return c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(v.a,{style:{backgroundColor:"#171932",fontWeight:"500",borderBottom:"1px solid #393939"},icon:c.a.createElement(b.a,{type:"left",size:"lg"}),onLeftClick:function(){i&&"function"===typeof i?i():n.goBack()}},c.a.createElement("span",{style:{color:"#ffffff",fontSize:"0.32rem"}},e.title)),r)},g=n(95),y=n(96),O=n(98),j=n(97),k=function(e){return String(e).replace(/^(?=(\d))\1$/,"0$1")},w=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={cdtime:0},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.time+86400-e.now;t>0&&this.interval(t)}},{key:"componentWillMount",value:function(){this.timer=null}},{key:"interval",value:function(e){var t=this;clearInterval(this.timer),this.setState({cdtime:e}),this.timer=setInterval((function(){if((e-=1)<=0){e=0,clearInterval(t.timer);var n=t.props.cdEndCallback;console.log("cdEndCallback",n),n&&"function"===typeof n&&(n(),console.log("cd:run"),t.timer=null)}t.setState({cdtime:e})}),1e3)}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=void 0===n?null:n,r=t.style,i=void 0===r?{}:r,l=t.text,s=void 0===l?"\u5012\u8ba1\u65f6\uff1a":l;return c.a.createElement("span",{className:a,style:Object(o.a)({},i)},"".concat(s).concat((e=this.state.cdtime,"".concat(k(parseInt(e/3600)),":").concat(k(parseInt(e/60%60)),":").concat(k(e%60)))))}}]),n}(c.a.Component)}},[[144,2,3]]]);