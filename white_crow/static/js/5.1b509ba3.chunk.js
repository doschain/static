(this.webpackJsonputxo=this.webpackJsonputxo||[]).push([[5],{224:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}));n(5),n(15);var a="http://proxy-mainnet.doschain.org/insight";"games.doschain.org"!==window.location.host&&(a="http://35.220.198.141:8087");var c=function(e){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/user/").concat(e)})},l=function(e,t){return window.demos.request({method:"POST",url:"".concat(a,"/v1/api/user/").concat(e,"/bind"),data:{code:t}})},r=function(e){var t=e.address,n=e.type,c=void 0===n?0:n;return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/matrix/").concat(t,"/").concat(c)})}},232:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),l=n(15),r=n(13),o=n(0),i=n.n(o),u=(n(232),n(56)),s=n(18),m=n(224),d=n(233),h=n.n(d),p=document.getElementById("root");t.default=Object(u.g)()((function(e){var t=e.address,n=e.t,a=e.history,d=s.c.getQuery("invite")||"",E=Object(o.useState)(""),f=Object(r.a)(E,2),b=f[0],v=f[1],O=Object(o.useState)(null),j=Object(r.a)(O,2),g=j[0],w=j[1],y=Object(o.useState)(null),x=Object(r.a)(y,2),C=x[0],k=x[1],N=Object(o.useState)(!1),_=Object(r.a)(N,2),S=_[0],D=_[1],q=Object(o.useState)(!1),I=Object(r.a)(q,2),B=I[0],L=I[1],T=Object(o.useState)(!1),G=Object(r.a)(T,2),J=G[0],Q=G[1],R=Object(o.useState)(d),U=Object(r.a)(R,2),X=U[0],F=U[1];function H(){D(!1)}function P(){var e=document.getElementById("home-banner"),t=document.body.clientWidth,n=e.clientHeight-t/750*705;w(n+"px")}function W(e){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location,e.prev=1,e.next=4,h.a.toDataURL("".concat(n.origin,"/?orientation=portrait&invite=").concat(t),{width:350,margin:0});case 4:a=e.sent,v(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function A(){Q(!0),Object(m.c)(t).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),Q(!1),200!==t.code){e.next=8;break}return k(t.data),e.next=6,W(t.data.user.code);case 6:e.next=9;break;case 8:1001===t.code?L(!0):Object(s.d)(t.code);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.warn(e),Q(!1)}))}return Object(o.useEffect)((function(){if(p.addEventListener("touchstart",P,!1),t)return A(),function(){p.removeEventListener("touchmove",P)}}),[t]),i.a.createElement("div",{className:"p-home"},i.a.createElement(u.c,null),i.a.createElement("div",{className:"home-wrapper"},null!==g&&i.a.createElement("div",{className:"home-banner-polyfill",style:{top:g}}),i.a.createElement("div",{className:"home-banner",id:"home-banner"},i.a.createElement("p",null,n("white_crow"))),C&&i.a.createElement(u.a,null,i.a.createElement("ul",{className:"home-info clearFloat"},i.a.createElement("li",null,i.a.createElement("strong",null,C.state.num),i.a.createElement("p",null,n("home_info1"))),i.a.createElement("li",null,i.a.createElement("strong",null,"+",C.state.num24h),i.a.createElement("p",null,n("home_info2"))),i.a.createElement("li",null,i.a.createElement("strong",null,C.state.value),i.a.createElement("p",null,n("home_info3"))),i.a.createElement("li",null,i.a.createElement("strong",null,C.state.value24h),i.a.createElement("p",null,n("home_info4")))),i.a.createElement("div",{className:"home-info2"},i.a.createElement("div",null,C.user.value||"0.00"," DOS"),i.a.createElement("div",null,i.a.createElement("div",null,"ID ",C.user.id),i.a.createElement("div",null,C.user.num)),i.a.createElement("div",null,i.a.createElement("strong",null,"X3"),i.a.createElement("span",null,C.user.value3x||"0.00"," DOS")),i.a.createElement("div",null,i.a.createElement("strong",null,"X4"),i.a.createElement("span",null,C.user.value4x||"0.00"," DOS")))),C&&i.a.createElement("div",{className:"home-bottom"},i.a.createElement("button",{onClick:function(){D(!0)}},n("share")),0===C.user.state?i.a.createElement("button",{onClick:function(){Object(s.e)("activeUser")}},n("active")):1===C.user.state?i.a.createElement("button",{onClick:function(){a.push("/matrix")}},n("buy")):i.a.createElement("button",{disabled:!0},n("user_disabled")))),C&&i.a.createElement(u.e,{visible:S,onCancel:H,className:"home-qrCode-modal"},i.a.createElement("p",{className:"p1"},n("affiliate_link")),i.a.createElement("div",{className:"home-qrCode"},b&&i.a.createElement("img",{src:b,alt:"",width:"350",height:"350"})),i.a.createElement("p",{className:"p2"},C.user.code),i.a.createElement("button",{onClick:function(){try{document.getElementById("address-container").select(),document.execCommand("Copy"),Object(s.e)(n("copy_success")),H()}catch(e){Object(s.e)(n("copy_failed"))}}},n("copy_address")),i.a.createElement("input",{type:"text",value:C.user.code,readOnly:!0,id:"address-container",style:{border:0,padding:0,position:"fixed",left:"-100%"},onChange:function(){}})),i.a.createElement(u.e,{visible:B,showClose:!1,className:"home-recommend-modal"},i.a.createElement("p",{className:"p1"},n("recommended_id")),i.a.createElement("div",{className:"home-input"},i.a.createElement("input",{type:"text",placeholder:n("recommended_hint"),value:X,onChange:function(e){F(e.target.value)}}),i.a.createElement("div",{onClick:function(){window.demos.scanQRCode().then((function(e){var t=e;e.includes("invite=")&&(t=e.match(/invite=(\w+)/)[1]),F(t)}))}})),i.a.createElement("button",{onClick:function(){if(t){var e=X.trim();e?(Q(!0),Object(m.a)(t,e).then((function(e){console.log(e),Q(!1),200===e.code?(Object(s.e)("\u7ed1\u5b9a\u6210\u529f"),L(!1),A()):Object(s.d)(e.code,n)}),(function(e){Q(!1)}))):Object(s.e)("\u8bf7\u586b\u5199\u63a8\u8350ID")}}},n("submit"))),J&&i.a.createElement(u.d,null))}))}}]);
//# sourceMappingURL=5.1b509ba3.chunk.js.map