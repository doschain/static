{"version":3,"sources":["service/index.js","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/Matrix/matrix.js","pages/Matrix/contant.js","pages/Matrix/index.js"],"names":["hosts","window","location","host","getUser","address","demos","request","method","url","bindCode","code","data","getMatrixList","type","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","_toConsumableArray","arr","arr2","iter","Symbol","iterator","Object","prototype","toString","from","TypeError","MatrixX3","props","onTap","price","No","status","className","cx","onClick","cart","hide","lock","MatrixX4","id","MATRIX_X3_DATA","children","num","repeat","hash","MATRIX_X4_DATA","connect","useState","matrix","setMatrix","setData","useEffect","newData","map","item","index","Math","pow","switchMatrix","x","title","active"],"mappings":"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","file":"static/js/4.79642dbf.chunk.js","sourcesContent":["// import {axios} from '../utils'\n// import {toast} from \"../utils\"\nlet hosts = \"http://proxy-mainnet.doschain.org/insight\";\n// let hosts2 = \"http://mainnet.doschain.org/insight\";\nif (window.location.host !== \"games.doschain.org\") {\n  hosts = \"http://35.220.198.141:8087\";\n  // hosts = \"http://10.0.0.15:8083\";\n  // hosts2 = \"https://testnet.doschain.org/insight\";\n}\n\nasync function requestWrapper(request) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      var res = await request;\n      resolve(JSON.parse(res));\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n/** 用户信息 **/\nexport const getUser = (address) => {\n  return window.demos.request({\n    method: \"GET\",\n    url: `${hosts}/v1/api/user/${address}`,\n  });\n};\n\n/** 绑定 **/\nexport const bindCode = (address, code) => {\n  return window.demos.request({\n    method: \"POST\",\n    url: `${hosts}/v1/api/user/${address}/bind`,\n    data: { code },\n  });\n};\n\n/** 激活 **/\nexport const activeUser = (address, rawtx) => {\n  return window.demos.request({\n    method: \"POST\",\n    url: `${hosts}/v1/api/user/${address}/active`,\n    data: { rawtx },\n  });\n};\n\n/** 示例 **/\nexport const requestExample = (price, num, code) => {\n  return requestWrapper(window.demos.allin.submit(price, num - 0, code, \"\"));\n};\n\n/** 举证列表 **/\nexport const getMatrixList = ({ address, type = 0 }) => {\n  return window.demos.request({\n    method: \"GET\",\n    url: `${hosts}/v1/api/matrix/${address}/${type}`,\n  });\n};\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from \"react\";\nimport cx from \"classnames\";\nimport \"./matrix.scss\";\n\n// X3矩阵\nfunction MatrixX3(props) {\n  const {\n    onTap = () => {},\n    price = 0,\n    No,\n    status = 1,\n    className = null,\n  } = props;\n\n  return (\n    <div className={`x3-x4__matrix ${className}`}>\n      <div\n        className={cx({\n          \"x-button\": 1,\n          [`status_${status}`]: 1,\n        })}\n        onClick={onTap}\n      >\n        <span className=\"No\">{No}</span>\n        <span className=\"price\">{price}</span>\n        <span className={cx({ cart: 1, hide: status !== 2 })}>BUY</span>\n        <i className={cx({ lock: 1, hide: status !== 1 })} />\n      </div>\n      <div className=\"x3-children\">\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n      </div>\n      <div className=\"x3-barnchs\">\n        <div>\n          <div className=\"top\" />\n          <div className=\"bottom\" />\n        </div>\n        <div />\n        <div>\n          <div className=\"top\" />\n          <div className=\"bottom\" />\n        </div>\n      </div>\n      <div className=\"x-info\">\n        <span>0</span>\n        <span>0</span>\n      </div>\n    </div>\n  );\n}\n\n// X4矩阵\nfunction MatrixX4(props) {\n  const { onTap = () => {}, id, status = 1, price = 0, No, className } = props;\n  return (\n    <div className={`x3-x4__matrix ${className}`}>\n      <div\n        className={cx({\n          \"x-button\": 1,\n          [`status_${status}`]: 1,\n        })}\n        onClick={onTap}\n      >\n        <span className=\"No\">{No}</span>\n        <span className=\"price\">{price}</span>\n        <span className={cx({ cart: 1, hide: status !== 2 })}>BUY</span>\n        <i className={cx({ lock: 1, hide: status == 2 })} />\n      </div>\n      <div className=\"x4-branchs-level1\">\n        <div className=\"line\" />\n        <div className=\"rect\" />\n      </div>\n      <div className=\"x4-children__level1\">\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n      </div>\n      <div className=\"x4-branchs-level2\">\n        <div />\n        <div />\n        <div />\n        <div />\n      </div>\n      <div className=\"x4-children__level2\">\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n        <div className=\"x-child\" />\n      </div>\n      <div className=\"x-info\">\n        <span>0</span>\n        <span>0</span>\n      </div>\n    </div>\n  );\n}\n\nexport { MatrixX3, MatrixX4 };\n","// X3矩阵数据\nconst MATRIX_X3_DATA = [\n  {\n    id: 1,\n    No: 1, //矩阵ID\n    status: 1, //当前矩阵的状态1:不可以否买，2:可购买，3：已购买\n    children: [],\n    num: 0, // 邀请人数\n    repeat: 0, // 轮询次数\n    hash: \"\", // 交易hash\n  },\n  {\n    id: 2,\n    No: 2,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 3,\n    No: 3,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 4,\n    No: 4,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 5,\n    No: 5,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 6,\n    No: 6,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 7,\n    No: 7,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 8,\n    No: 8,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 9,\n    No: 9,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 10,\n    No: 10,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 11,\n    No: 11,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 12,\n    No: 12,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n];\n\n// X4矩阵数据\nconst MATRIX_X4_DATA = [\n  {\n    id: 1,\n    No: 1, //矩阵ID\n    status: 1, //当前矩阵的状态1:不可以否买，2:可购买，3：已购买\n    children: [],\n    num: 0, // 邀请人数\n    repeat: 0, // 轮询次数\n    hash: \"\", // 交易hash\n  },\n  {\n    id: 2,\n    No: 2,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 3,\n    No: 3,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 4,\n    No: 4,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 5,\n    No: 5,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 6,\n    No: 6,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 7,\n    No: 7,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 8,\n    No: 8,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 9,\n    No: 9,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 10,\n    No: 10,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 11,\n    No: 11,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n  {\n    id: 12,\n    No: 12,\n    status: 1,\n    children: [],\n    num: 0,\n    repeat: 0,\n    hash: \"\",\n  },\n];\nexport { MATRIX_X3_DATA, MATRIX_X4_DATA };\n","import React, { useState, useEffect } from \"react\";\nimport cx from \"classnames\";\nimport { connect, Nav, Card } from \"../../components\";\nimport { MatrixX3, MatrixX4 } from \"./matrix\";\nimport { MATRIX_X3_DATA, MATRIX_X4_DATA } from \"./contant\";\nimport { getMatrixList } from \"../../service\";\nimport \"./style.scss\";\n\n// 点亮的节点数组\nconst genLightChildren = (len, num) => {\n  const children = new Array(len).fill(0);\n  for (let i = 0; i < len; i++) {\n    if (i < num) {\n      children[i] = 1;\n    }\n  }\n  return children;\n};\n\nfunction Matrix(props) {\n  const [matrix, setMatrix] = useState(0);\n  const [data, setData] = useState(() => {\n    return matrix === 0 ? [...MATRIX_X3_DATA] : [...MATRIX_X4_DATA];\n  });\n\n  useEffect(() => {\n    const basic_price = 0.25;\n    const newData = data.map((item, index) => {\n      item.price = basic_price * Math.pow(2, index);\n      return item;\n    });\n    setData(newData);\n  }, []);\n\n  // 获取矩阵列表数据\n  const fetch = async () => {\n    const { code, data: list = [] } = await getMatrixList({\n      address: \"\", // 钱包地址\n      type: matrix, // 0: X3、1:X4,\n    });\n\n    if (code !== 200 || list.length === 0) {\n      return;\n    }\n\n    const len = list.length;\n    if (len === 12) {\n      let _data = data.map((item, index) => {\n        if (index < 11) {\n          item.status = 3;\n        } else {\n          item.status = list[11].hash ? 4 : 3;\n        }\n        item.chidren = genLightChildren(matrix === 0 ? 3 : 6, list[index].num);\n        return item;\n      });\n      setData(_data);\n      return;\n    }\n\n    const _data = data.slice();\n    _data.forEach((item, index) => {\n      const current = list.find(({ id }) => id === item.id);\n      // 1:不可购买、2:可购买、3:已购买、4:已支付交易确认中\n      if (current) {\n        _data[index].status = current.hash ? 4 : 3;\n        _data[index] = { ...data[index], ...item };\n        _data.chidren = genLightChildren(matrix === 0 ? 3 : 6, current.num);\n      } else {\n        if (index === len) {\n          _data[index].status = list[len - 1].hash ? 4 : 2;\n        } else {\n          _data[index].status = 1;\n        }\n        _data[index].chidren = genLightChildren(matrix === 0 ? 3 : 6, 0);\n      }\n    });\n    setData(_data);\n  };\n\n  const switchMatrix = (x) => {\n    setMatrix(x);\n  };\n\n  return (\n    <div className=\"matrix-page\">\n      <Nav title=\"矩阵列表\" {...props} />\n      <div className=\"main\">\n        <div className=\"tab\">\n          <button\n            className={cx({ active: matrix === 0 })}\n            onClick={() => switchMatrix(0)}\n          >\n            X3\n          </button>\n          <button\n            className={cx({ active: matrix === 1 })}\n            onClick={() => switchMatrix(1)}\n          >\n            X4\n          </button>\n        </div>\n        <Card className={cx({ \"p-r-20 p-l-20\": matrix == 1 })}>\n          <div className=\"info\">\n            <span>FORSAGE</span>\n            <span>{matrix === 0 ? \"X3\" : \"X4\"}</span>\n          </div>\n          <div className=\"matrix-list\">\n            {data.map((item) =>\n              matrix === 0 ? (\n                <MatrixX3\n                  key={item.id}\n                  className=\"m-b-80 p-r-20 p-l-20\"\n                  {...item}\n                />\n              ) : (\n                <MatrixX4 key={item.id} className=\"m-b-80\" {...item} />\n              )\n            )}\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\nexport default connect()(Matrix);\n"],"sourceRoot":""}