{"version":3,"sources":["pages/Share/index.js"],"names":["connect","address","useState","QRC","setQRC","window","location","origin","pathname","url","console","log","useEffect","a","QRCode","toDataURL","width","margin","error","initQRCode","className","src","basicURL","imgSrc","alt","height"],"mappings":"0NAoCeA,yBA9Bf,YAA2B,IAAXC,EAAU,EAAVA,QAAU,EACAC,mBAAS,IADT,mBACfC,EADe,KACVC,EADU,OAEKC,OAAOC,SAA3BC,EAFe,EAEfA,OAAQC,EAFO,EAEPA,SACTC,EAAG,UAAMF,GAAN,OAAeC,EAAf,mBAAkCP,GAiB3C,OAhBAS,QAAQC,IAAIF,GAEZG,qBAAU,WAAW,4CACjB,4BAAAC,EAAA,+EAE0BC,IAAOC,UAAUN,EAAK,CAAEO,MAAO,IAAKC,OAAQ,IAFtE,OAEcd,EAFd,OAGQC,EAAOD,GAHf,gDAKQO,QAAQQ,MAAR,MALR,0DADiB,uBAAC,WAAD,wBAUjBC,KAED,CAAClB,IAGA,yBAAKmB,UAAU,WACX,yBAAKC,IAAG,UAAKC,IAASC,OAAd,cAAkCH,UAAU,OACpD,yBAAKA,UAAU,UACVjB,GAAO,yBAAKkB,IAAKlB,EAAKqB,IAAI,GAAGR,MAAM,MAAMS,OAAO","file":"static/js/8.2787c7a5.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './style.scss';\nimport {connect} from \"../../components\"\nimport {basicURL} from \"../../utils\";\nimport QRCode from 'qrcode';\n\nfunction Share({address}) {\n    const [QRC, setQRC] = useState('');\n    const {origin, pathname} = window.location;\n    const url = `${origin}${pathname}?invite=${address}`;\n    console.log(url);\n\n    useEffect(function (){\n        async function initQRCode() {\n            try {\n                const QRC = await QRCode.toDataURL(url, { width: 400, margin: 0 });\n                setQRC(QRC);\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        initQRCode();\n\n    }, [address]);\n\n    return (\n        <div className='p-share'>\n            <img src={`${basicURL.imgSrc}/share.jpg`} className='bg'/>\n            <div className=\"qrcode\">\n                {QRC && <img src={QRC} alt=\"\" width=\"280\" height=\"280\" />}\n            </div>\n        </div>\n    )\n};\n\nexport default connect()(Share);\n"],"sourceRoot":""}