(this.webpackJsonpdemos_dapp=this.webpackJsonpdemos_dapp||[]).push([[7],{285:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return d}));var a="http://proxy-mainnet.doschain.org/insight";function o(t){var e=t.addr,n=t.state,o=t.page,c=t.limit,r=t.category,i="".concat(a,"/v1/api/apps/").concat(e,"/").concat(n,"/?page=").concat(o,"&limit=").concat(c);return r&&(i+="&category=".concat(r)),window.demos.request({method:"GET",url:i})}function c(){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/category")})}function r(){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/state")})}function i(t){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/app/").concat(t)})}function u(t){var e=t.addr,n=t.rawtx,o=t.id,c=t.gain,r=t.code,i=t.mail;return window.demos.request({method:"POST",url:"".concat(a,"/v1/api/app/").concat(e,"/pay"),data:{rawtx:n,id:o,gain:c,code:r,mail:i}})}"games.doschain.org"!==window.location.host&&(a="http://35.220.198.141:8088");var s=function(t){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/orders/").concat(t)})},d=function(t,e){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/order/").concat(t,"/").concat(e)})}},321:function(t,e,n){t.exports={history:"history_history__2fjli"}},326:function(t,e,n){"use strict";n.r(e);var a,o=n(87),c=n(0),r=n.n(c),i=n(321),u=n.n(i),s=n(89),d=n(285);e.default=function(t){var e=t.history,n=Object(c.useContext)(s.d).wallet_address,i=Object(c.useState)([]),p=Object(o.a)(i,2),m=p[0],f=p[1],l=Object(c.useState)(!1),h=Object(o.a)(l,2),w=h[0],v=h[1],g=Object(c.useState)(0),y=Object(o.a)(g,2),b=y[0],E=y[1];return Object(c.useEffect)((function(){n&&(v(!0),Object(d.f)(n).then((function(t){var e;v(!1),t.ret&&(f((t.data||[]).map((function(t){return t.order_time>=0?t.status=0:t.status=1,1===t.state&&(t.status=2),t}))),e=t.time,clearInterval(a),E(e),a=setInterval((function(){e++,E(e)}),1e3))})))}),[n]),r.a.createElement(s.a,{title:"DAPP\u7533\u8d2d\u8bb0\u5f55"},w?r.a.createElement(s.f,null):r.a.createElement("div",{className:u.a.history},m.map((function(t){var a=t.id,o=t.name,c=t.logo,i=t.price,u=t.order_time,d=t.status;return r.a.createElement(s.c,{now:b,key:a,id:a,name:o,logo:c,price:i,time:u,status:d,onClick:function(a){e.push("/history_detail/".concat(a)),window.sessionStorage["dapp_".concat(n,"_").concat(a)]=JSON.stringify(t)}})}))))}}}]);