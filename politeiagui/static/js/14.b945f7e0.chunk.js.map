{"version":3,"sources":["components/PublicProposalsPage/helpers.js","connectors/publicProposals.js","components/PublicProposalsPage/PublicProposals.js","components/LazyList/LazyList.js","../node_modules/react-infinite-scroller/index.js","../node_modules/react-infinite-scroller/dist/InfiniteScroll.js"],"names":["tabValues","IN_DISCUSSSION","VOTING","APPROVED","REJECTED","ABANDONED","getInitialTabValue","value","tabOption","getQueryStringValue","Object","keys","find","k","getProposalTokensByTabOption","proposalsTokens","pre","active","approved","rejected","abandoned","connect","sel","loggedInAsEmail","proposals","isLoading","or","error","filterValue","emptyProposalsMessage","dispatch","bindActionCreators","onFetchVettedByTokens","act","onFetchTokenInventory","onFetchLastBlockHeight","renderProposal","record","index","react_default","a","createElement","ThingLinkProposal","assign","key","objectSpread","proposalToT3","data","comments","PlaceHolder","className","getListLoadingPlaceholders","numberOfItems","placeholders","i","push","PublicProposals_PlaceHolder","concat","initialState","itemsOnLoad","INCREMENT_LOADING_ITEMS","DECREMENT_LOADING_ITEMS","reducer","state","action","type","count","Error","PublicProposals","_ref","pageSize","_useState","useState","_useState2","slicedToArray","setTabOption","_useState3","_useState4","hasMoreToLoad","setHasMore","_useReducer","useReducer","_useReducer2","handleTabChange","newTabValue","filteredTokens","filteredProposals","tokens","reduce","token","foundProp","prop","censorshiprecord","filterProposalsByTokens","getProposalsByTabOption","handleFetchMoreRecords","_ref2","asyncToGenerator","regenerator_default","mark","_callee","propTokensToBeFetched","numOfItemsToBeFetched","wrap","_context","prev","next","length","slice","stop","apply","this","arguments","useEffect","tab","setQueryStringValue","hasMoreRecordsToLoad","Fragment","Tabs","title","selected","onTabChange","LazyList","items","renderItem","onFetchMore","hasMore","loadingPlaceholder","defaultProps","proposalsConnector","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_1__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_1___default","initialLoad","pageStart","loadMore","map","module","exports","defineProperty","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","pageLoaded","options","attachScrollListener","isReverse","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","window","useWindow","parentNode","el","scrollParent","getScrollParent","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","ref","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","propTypes","isRequired","bool","func","number"],"mappings":"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","file":"static/js/14.b945f7e0.chunk.js","sourcesContent":["import {\n  setQueryStringValue,\n  getQueryStringValue\n} from \"../../lib/queryString\";\n\nexport const tabValues = {\n  IN_DISCUSSSION: \"discussion\",\n  VOTING: \"voting\",\n  APPROVED: \"approved\",\n  REJECTED: \"rejected\",\n  ABANDONED: \"abandoned\"\n};\n\nexport const validTabValue = value =>\n  Object.keys(tabValues).find(k => tabValues[k] === value);\n\nexport const getInitialTabValue = () => {\n  const tabOption = getQueryStringValue(\"tab\");\n  return tabOption && validTabValue(tabOption)\n    ? tabOption\n    : tabValues.IN_DISCUSSSION;\n};\n\nexport const setTabValueInQS = tab => setQueryStringValue(\"tab\", tab);\n\nexport const getProposalTokensByTabOption = (tabOption, proposalsTokens) => {\n  if (!proposalsTokens) return [];\n  const { pre, active, approved, rejected, abandoned } = proposalsTokens;\n  switch (tabOption) {\n    case tabValues.IN_DISCUSSSION:\n      return pre;\n    case tabValues.VOTING:\n      return active;\n    case tabValues.APPROVED:\n      return approved;\n    case tabValues.REJECTED:\n      return rejected;\n    case tabValues.ABANDONED:\n      return abandoned;\n    default:\n      return [];\n  }\n};\n\nexport const getProposalsByTabOption = (\n  tabOption,\n  proposals,\n  proposalsTokens\n) => {\n  const filterProposalsByTokens = (tokens, proposals) =>\n    tokens.reduce((filteredProposals, token) => {\n      const foundProp = proposals.find(\n        prop =>\n          prop && prop.censorshiprecord && token === prop.censorshiprecord.token\n      );\n      return foundProp\n        ? filteredProposals.concat([foundProp])\n        : filteredProposals;\n    }, []);\n\n  const tokens = getProposalTokensByTabOption(tabOption, proposalsTokens);\n\n  return filterProposalsByTokens(tokens, proposals);\n};\n","import { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { or } from \"../lib/fp\";\nimport * as sel from \"../selectors\";\nimport * as act from \"../actions\";\n\nexport default connect(\n  sel.selectorMap({\n    loggedInAsEmail: sel.loggedInAsEmail,\n    proposals: sel.apiVettedProposals,\n    isLoading: or(\n      sel.apiTokenInventoryIsRequesting,\n      sel.isApiRequestingPropsVoteStatus,\n      sel.isApiRequestingLastBlockHeight\n    ),\n    error: or(\n      sel.vettedProposalsError,\n      sel.apiPropsVoteStatusError,\n      sel.apiTokenInventoryError\n    ),\n    filterValue: sel.getPublicFilterValue,\n    emptyProposalsMessage: sel.getVettedEmptyProposalsMessage,\n    proposalsTokens: sel.apiTokenInventoryResponse\n  }),\n  dispatch =>\n    bindActionCreators(\n      {\n        onFetchVettedByTokens: act.onFetchVettedByTokens,\n        onFetchTokenInventory: act.onFetchTokenInventory,\n        onFetchLastBlockHeight: act.getLastBlockHeight\n      },\n      dispatch\n    )\n);\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\nimport { Tabs, Tab } from \"../Tabs\";\nimport LazyList from \"../LazyList/LazyList\";\nimport ThingLinkProposal from \"../snew/ThingLink/ThingLinkProposal\";\nimport {\n  tabValues,\n  getProposalTokensByTabOption,\n  getProposalsByTabOption,\n  getInitialTabValue,\n  setTabValueInQS\n} from \"./helpers\";\nimport { proposalToT3 } from \"../../lib/snew\";\nimport proposalsConnector from \"../../connectors/publicProposals\";\n\nconst DEFAULT_PAGE_SIZE = 4;\n\nconst renderProposal = (record, index) => (\n  <ThingLinkProposal\n    key={index}\n    {...{ ...proposalToT3(record, index).data, comments: [] }}\n  />\n);\n\nconst PlaceHolder = () => <div className=\"card-placeholder\" />;\n\nconst getListLoadingPlaceholders = numberOfItems => {\n  const placeholders = [];\n  for (let i = 0; i < numberOfItems; i++) {\n    placeholders.push(<PlaceHolder key={`placeholder-${i}`} />);\n  }\n  return placeholders;\n};\n\nconst initialState = { itemsOnLoad: 0 };\n\nconst INCREMENT_LOADING_ITEMS = \"increment\";\nconst DECREMENT_LOADING_ITEMS = \"decrement\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case INCREMENT_LOADING_ITEMS:\n      return { itemsOnLoad: state.itemsOnLoad + action.count };\n    case DECREMENT_LOADING_ITEMS:\n      return { itemsOnLoad: state.itemsOnLoad - action.count };\n    default:\n      throw new Error();\n  }\n}\n\nconst PublicProposals = ({\n  proposals,\n  proposalsTokens,\n  onFetchVettedByTokens,\n  onFetchTokenInventory,\n  onFetchLastBlockHeight,\n  isLoading,\n  error,\n  pageSize\n}) => {\n  const [tabOption, setTabOption] = useState(getInitialTabValue());\n  const [hasMoreToLoad, setHasMore] = useState(true);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { itemsOnLoad } = state;\n\n  const handleTabChange = newTabValue => setTabOption(newTabValue);\n  const filteredTokens = getProposalTokensByTabOption(\n    tabOption,\n    proposalsTokens\n  );\n  const filteredProposals = getProposalsByTabOption(\n    tabOption,\n    proposals,\n    proposalsTokens\n  );\n\n  const handleFetchMoreRecords = async () => {\n    const index = filteredProposals.length;\n    const propTokensToBeFetched = filteredTokens.slice(index, index + pageSize);\n    setHasMore(false);\n    const numOfItemsToBeFetched = propTokensToBeFetched.length;\n    dispatch({ type: INCREMENT_LOADING_ITEMS, count: numOfItemsToBeFetched });\n    await onFetchVettedByTokens(propTokensToBeFetched);\n    dispatch({ type: DECREMENT_LOADING_ITEMS, count: numOfItemsToBeFetched });\n  };\n\n  useEffect(() => {\n    setTabValueInQS(tabOption);\n  }, [tabOption]);\n\n  // Verify if there is more records to load everytime the filtered tokens\n  // or the filtered proposals have changed\n  useEffect(() => {\n    const hasMoreRecordsToLoad =\n      filteredTokens && filteredProposals.length < filteredTokens.length;\n    setHasMore(hasMoreRecordsToLoad);\n  }, [filteredTokens, filteredProposals.length]);\n\n  // Component did mount effect\n  useEffect(() => {\n    // Fetch initial data\n    onFetchTokenInventory();\n    onFetchLastBlockHeight();\n  }, [onFetchLastBlockHeight, onFetchTokenInventory]);\n\n  if (error) throw error;\n\n  return (\n    <>\n      <Tabs>\n        <Tab\n          title=\"In Discusssion\"\n          count={proposalsTokens ? proposalsTokens.pre.length : \"\"}\n          selected={tabValues.IN_DISCUSSSION === tabOption}\n          onTabChange={() => handleTabChange(tabValues.IN_DISCUSSSION)}\n        />\n        <Tab\n          title=\"Voting\"\n          count={proposalsTokens ? proposalsTokens.active.length : \"\"}\n          selected={tabValues.VOTING === tabOption}\n          onTabChange={() => handleTabChange(tabValues.VOTING)}\n        />\n        <Tab\n          title=\"Approved\"\n          count={proposalsTokens ? proposalsTokens.approved.length : \"\"}\n          selected={tabValues.APPROVED === tabOption}\n          onTabChange={() => handleTabChange(tabValues.APPROVED)}\n        />\n        <Tab\n          title=\"Rejected\"\n          count={proposalsTokens ? proposalsTokens.rejected.length : \"\"}\n          selected={tabValues.REJECTED === tabOption}\n          onTabChange={() => handleTabChange(tabValues.REJECTED)}\n        />\n        <Tab\n          title=\"Abandoned\"\n          count={proposalsTokens ? proposalsTokens.abandoned.length : \"\"}\n          selected={tabValues.ABANDONED === tabOption}\n          onTabChange={() => handleTabChange(tabValues.ABANDONED)}\n        />\n      </Tabs>\n      {proposalsTokens && !isLoading && (\n        <LazyList\n          items={filteredProposals}\n          renderItem={renderProposal}\n          onFetchMore={handleFetchMoreRecords}\n          hasMore={hasMoreToLoad}\n          isLoading={itemsOnLoad > 0}\n          loadingPlaceholder={getListLoadingPlaceholders(itemsOnLoad)}\n        />\n      )}\n    </>\n  );\n};\n\nPublicProposals.propTypes = {\n  proposals: PropTypes.array,\n  proposalsTokens: PropTypes.object,\n  onFetchVettedByTokens: PropTypes.func.isRequired,\n  onFetchTokenInventory: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  error: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.bool\n  ]),\n  pageSize: PropTypes.number\n};\n\nPublicProposals.defaultProps = {\n  pageSize: DEFAULT_PAGE_SIZE\n};\n\nexport default proposalsConnector(PublicProposals);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroller\";\n\nconst DefaultLoader = () => (\n  <div className=\"loader\" key={0}>\n    Loading ...\n  </div>\n);\n\nconst LazyList = ({\n  items,\n  initialLoad,\n  isLoading,\n  loadingPlaceholder,\n  onFetchMore,\n  hasMore,\n  renderItem,\n  pageStart\n}) => {\n  return (\n    <>\n      <InfiniteScroll\n        pageStart={pageStart}\n        loadMore={onFetchMore}\n        initialLoad={initialLoad}\n        hasMore={hasMore}\n      >\n        {items.map(renderItem)}\n      </InfiniteScroll>\n      {isLoading && loadingPlaceholder}\n    </>\n  );\n};\n\nLazyList.propTypes = {\n  items: PropTypes.array.isRequired,\n  renderItem: PropTypes.func.isRequired,\n  onFetchMore: PropTypes.func.isRequired,\n  initialLoad: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  loadingPlaceholder: PropTypes.node,\n  hasMore: PropTypes.bool,\n  pageStart: PropTypes.number\n};\n\nLazyList.defaultProps = {\n  initialLoad: true,\n  loadingPlaceholder: <DefaultLoader />,\n  pageStart: 0\n};\n\nexport default LazyList;\n","module.exports = require('./dist/InfiniteScroll');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {// ignore\n      }\n\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n\n      return options;\n    } // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n      var offset = void 0;\n\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      } // Here we make sure the element is visible as well as checking the offset\n\n\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop; // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];"],"sourceRoot":""}