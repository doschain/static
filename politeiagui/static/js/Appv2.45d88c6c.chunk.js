(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1034:function(e,t,n){e.exports={wrapper:"LoadingWithMessage_wrapper__10uoz",text:"LoadingWithMessage_text__9NRKn"}},1035:function(e,t,n){e.exports={newProposalButton:"NewProposalButton_newProposalButton__ar3on",newProposalButtonContent:"NewProposalButton_newProposalButtonContent__2oHXI"}},1036:function(e,t,n){e.exports={titleWrapper:"detail_titleWrapper__1ay8-",sidebanner:"detail_sidebanner__1yt5s",titleLink:"detail_titleLink__84GHb"}},1038:function(e,t,n){e.exports={label:"infosection_label__1WtVr",sectionWrapper:"infosection_sectionWrapper__POWpT",info:"infosection_info__1wlUt"}},1079:function(e,t,n){},1080:function(e,t,n){e.exports={contentWrapper:"ModalSearchVotes_contentWrapper__2Cvjz",loadingWrapper:"ModalSearchVotes_loadingWrapper__1Y1Gw",searchVotesModal:"ModalSearchVotes_searchVotesModal__38839"}},1081:function(e,t,n){e.exports={title:"RecordWrapper_title__11eph",header:"RecordWrapper_header__3ERan",status:"RecordWrapper_status__2Uq7d",editButton:"RecordWrapper_editButton__2ap_o",titleWrapper:"RecordWrapper_titleWrapper__cI4-y",titleEditWrapper:"RecordWrapper_titleEditWrapper__241-J",commentsLink:"RecordWrapper_commentsLink__q81HX",recordCard:"RecordWrapper_recordCard__mKQni",titleStatusWrapper:"RecordWrapper_titleStatusWrapper__1hCCg"}},1094:function(e,t,n){e.exports={dateTooltip:"DateTooltip_dateTooltip__2-rSJ"}},1095:function(e,t,n){e.exports=n.p+"static/media/github.d6a7e99e.svg"},1096:function(e,t,n){e.exports={join:"Join_join__3Ivgt"}},1097:function(e,t,n){e.exports={iconButton:"IconButton_iconButton__2mNyU"}},1098:function(e,t,n){e.exports={copyTooltip:"CopyToClipboard_copyTooltip__cgJX7"}},1099:function(e,t,n){e.exports=n.p+"static/media/search-small.020840ed.svg"},11:function(e,t,n){"use strict";n.r(t);n(601);var a=n(0),r=n.n(a),o=n(1272),c=n(61),i=n(20),s=n(45),l=n(62),u=n(1276),m=n(879),d=n(1275),p=n(1277),f=n(1274),b=n(24),h=Object(d.a)(function(e){var t=e.history,n=Object(b.a)(e,["history"]),o=Object(l.c)(),c=o.initDone,i=o.currentUser;return Object(a.useEffect)(function(){!c||i&&i.isadmin||t.push("/")},[c,i,t]),r.a.createElement(m.a,n)}),g=Object(d.a)(function(e){var t=e.history,n=Object(b.a)(e,["history"]),o=Object(l.c)(),c=o.initDone,i=o.currentUser;return Object(a.useEffect)(function(){c&&!i&&t.push("/")},[c,i,t]),r.a.createElement(m.a,n)}),v=Object(d.a)(function(e){var t=e.history,n=Object(b.a)(e,["history"]),o=Object(l.c)(),c=o.initDone,i=o.currentUser;return Object(a.useEffect)(function(){c&&i&&t.push("/")},[c,i,t]),r.a.createElement(m.a,n)}),E=n(76),w=n(39),O=n.n(w),y=n(40),j=n(29),k=n(17),_=n(133),C=n(120),S=n(995),x=n.n(S),P=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement(i.h,Object.assign({className:Object(i.E)(x.a.title,t)},n))},N=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:Object(i.E)(n.children.length>1?x.a.actions:x.a.singleAction,t)},n))},T=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:Object(i.E)(x.a.footer,t)},n))},R=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement("form",Object.assign({className:Object(i.E)(x.a.form,t)},n))},A=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement(i.p,Object.assign({kind:"error",className:Object(i.E)(x.a.errorMessage,t)},n))},L=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:Object(i.E)(x.a.loader,t)},n),r.a.createElement(i.u,{invert:!0}))},M=function(e){var t=e.children,n=e.loading,a=Object(b.a)(e,["children","loading"]);return n?r.a.createElement(L,null):r.a.createElement(_.a,a,function(e){return t(Object(k.a)({},e,{Actions:N,Footer:T,Title:P,Form:R,ErrorMessage:A,Link:C.a}))})},I=n(222),D=function(e){var t=Object(c.c)().privacyPolicyContent;return r.a.createElement(i.q,Object.assign({style:{maxWidth:"70rem"}},e,{iconType:"info",iconSize:"lg"}),r.a.createElement(I.a,{contentName:t}),r.a.createElement("div",{className:"justify-right"},r.a.createElement(C.a,{to:"/user/privacy-policy",className:"margin-top-m"},"Privacy Policy Permalink")))},F=n(19),B=n(121),q=n(44),U=n(71),V=n(88),W=function(e){var t,n=e.minpasswordlength,a=e.usernamesupportedchars,r=e.minusernamelength,o=e.maxusernamelength;return U.object().shape({username:(t=U.string()).matches.apply(t,Object(q.a)(Object(V.c)("username",a))).min(r,Object(V.b)("username",r)).max(o,Object(V.a)("username",o)).required("Required"),password:U.string().min(n,"Password must be at least ".concat(n," characters")).required("Required")})},H={onLogin:F.W};var z=Object(d.a)(function(e){var t=e.hideTitle,n=e.onLoggedIn,o=e.redirectToPrivacyPolicyRoute,c=e.history,l=Object(a.useState)(!1),u=Object(j.a)(l,2),m=u[0],d=u[1],p=function(e){var t=Object(s.b)(e,{},H),n=Object(B.a)(),r=n.policy,o=n.loading,c=Object(a.useState)(r?W(r):null),i=Object(j.a)(c,2),l=i[0],u=i[1];return Object(a.useEffect)(function(){r&&!l&&u(W(r))},[r,l]),Object(k.a)({},t,{validationSchema:l,loadingPolicy:o})}(),f=p.onLogin,b=p.validationSchema;function h(){return(h=Object(y.a)(O.a.mark(function e(t,a){var r,o,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,o=a.setSubmitting,c=a.setFieldError,e.prev=1,e.next=4,f(t);case 4:o(!1),r(),n&&n(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o(!1),c("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function g(){o?c.push("/user/privacy-policy"):d(!0)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{initialValues:{username:"",password:""},loading:!b,validationSchema:b,onSubmit:function(e,t){return h.apply(this,arguments)}},function(e){var n=e.Form,a=e.Title,o=e.Actions,c=e.Footer,s=e.Link,l=e.ErrorMessage,u=e.values,m=e.handleChange,d=e.handleBlur,p=e.handleSubmit,f=e.isSubmitting,b=e.errors,h=e.touched;return r.a.createElement(n,{onSubmit:p},!t&&r.a.createElement(a,null,"Log in"),b&&b.global&&r.a.createElement(l,null,b.global.toString()),r.a.createElement(i.B,{label:"Username",id:"username",value:u.username,onChange:m,onBlur:d,error:h.username&&b.username}),r.a.createElement(i.B,{id:"password",label:"Password",type:"password",value:u.password,onChange:m,onBlur:d,error:h.password&&b.password}),r.a.createElement(o,null,r.a.createElement(s,{to:"/user/request-reset-password"},"Reset Password"),r.a.createElement(i.b,{loading:f,kind:"primary",type:"submit"},"Login")),r.a.createElement(c,null,r.a.createElement(i.n,{gray:!0,onClick:g,customComponent:function(e){return r.a.createElement(i.A,Object.assign({style:{cursor:"pointer"}},e)," ","Privacy Policy")}}),r.a.createElement(i.A,null,"Don't have an account?"," ",r.a.createElement(s,{to:"/user/signup"},"Create here!"))))}),r.a.createElement(D,{show:m,onClose:function(){return d(!1)}}))}),Y=function(){return r.a.createElement(E.a,null,r.a.createElement(z,null))},G=n(886),J=function(e){var t=e.children,n=e.show;return Object({NODE_ENV:"production",PUBLIC_URL:"https://cdn.jsdelivr.net/gh/doschain/static/politeiagui"}).REACT_APP_V2&&n?r.a.createElement("div",{style:{position:"relative",padding:"4px",border:"1px solid #e47a0d"}},r.a.createElement("span",{style:{position:"absolute",right:"1px",top:"-2px",fontSize:"1rem"}},"[dev]"),t):null},K=function(e){var t=e.email,n=void 0===t?"example@gmail.com":t,a=e.title,o=e.bulletPoints;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.i,null,a),r.a.createElement(i.r,{style:{marginTop:"2rem",marginBottom:0}},"Note that, for privacy reasons, Politeia does not disclose whether an email address has already been registered. If you don\u2019t receive an email:"),r.a.createElement("ul",{style:{padding:"1rem 0"}},r.a.createElement("li",null,"Check that ".concat(n," is the correct address.")),r.a.createElement("li",null,"Check your spam folder!"),o.map(function(e,t){return r.a.createElement("li",{key:"bp-".concat(t)},e)})),r.a.createElement(i.r,null,"If you're sure you should have received an email, join the #support:decred.org channel on"," ",r.a.createElement("a",{href:"https://www.decred.org/matrix/"},"Matrix")," to get assistance from Politeia administrators."))};K.defaultProps={email:"email@example.com",title:"Please check your email inbox",bulletPoints:[]};var X=K,Q=function(e){var t=e.title,n=e.onClose,a=e.show,o=e.onConfirm,c=e.confirmMessage;return r.a.createElement(i.q,{style:{maxWidth:"70rem"},show:a,title:t,onClose:n,iconType:"info",iconSize:"lg"},r.a.createElement(i.r,null,"Politeia will send you a link to verify your email address. You must open this link in the same browser. After verifying your email, Politeia will create your Politeia \u201cidentity\u201d, which consists of a public/private cryptographic key pair and browser cookie. This is necessary to verify your identity and allow submission of proposals, commenting, voting, and other Politeia functions. After completing the signup process, you can export your identity (public/private keys) to another browser at any time."),r.a.createElement(i.b,{style:{float:"right",marginTop:"3rem"},onClick:o},c))};Q.defaultProps={title:"Before you continue",confirmMessage:"I understand, continue"};var Z=Q,$=n(60),ee=n(18),te=function(e,t){var n,a=e.minpasswordlength,r=e.minusernamelength,o=e.maxusernamelength,c=e.usernamesupportedchars;return U.object().shape({email:U.string().email("Invalid email").required("Required"),username:(n=U.string()).matches.apply(n,Object(q.a)(Object(V.c)("username",c))).min(r,Object(V.b)("username",r)).max(o,Object(V.a)("username",o)).required("Required"),password:U.string().min(a,Object(V.b)("password",a)).required("Required"),verify_password:U.string().oneOf([U.ref("password")],"Passwords must match").required("Required"),verificationtoken:t?U.string().required("Required"):U.string()})},ne={signupResponse:ee.v},ae={onCreateNewUser:F.m,onCreateNewUseFromAdminInvitation:F.n,onResetSignup:F.kb};var re=function(){var e=function(){return null},t=function(e){var t=Object(s.b)(e,ne,ae),n=t.onResetSignup,r=Object(b.a)(t,["onResetSignup"]),o=Object(c.c)().enableAdminInvite,i=Object(B.a)().policy,l=Object(a.useState)(i?te(i,o):null),u=Object(j.a)(l,2),m=u[0],d=u[1];Object(a.useEffect)(function(){i&&!m&&d(te(i,o))},[i,o,m]);var p=o?r.onCreateNewUseFromAdminInvitation:r.onCreateNewUser;Object(a.useEffect)(function(){return function(){n()}},[n]);var f=Object($.b)(),h={email:f.email||"",verificationtoken:f.verificationtoken||"",password:"",username:"",verify_password:""};return Object(k.a)({},r,{validationSchema:m,onSignup:p,enableAdminInvite:o,initialValues:h})}(),n=t.onSignup,o=t.initialValues,l=t.signupResponse,u=t.validationSchema,m=t.enableAdminInvite,d=Object(a.useState)(function(){return e}),p=Object(j.a)(d,2),f=p[0],h=p[1],g=Object(a.useState)(function(){return e}),v=Object(j.a)(g,2),E=v[0],w=v[1],_=Object(a.useState)(""),C=Object(j.a)(_,2),S=C[0],x=C[1],P=Object(a.useState)(!1),N=Object(j.a)(P,2),T=N[0],R=N[1],A=!!S,L=function(e,t){var a=t.setSubmitting,r=t.resetForm,o=t.setFieldError;return Object(y.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(!1),t.prev=1,t.next=4,n(e);case 4:a(!1),x(e.email),r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(!1),o("global",t.t0);case 13:case"end":return t.stop()}},t,null,[[1,9]])}))},I=function(e,t){var n=t.setSubmitting;return function(){n(!1),R(!1)}};function D(){return(D=Object(y.a)(O.a.mark(function e(){var t,n,a,r=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a];R(!0),h(function(){return L.apply(void 0,n)}),w(function(){return I.apply(void 0,n)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{show:T,title:"Before you sign up",confirmMessage:"I understand, sign me up",onClose:E,onConfirm:f}),r.a.createElement(M,{initialValues:o,loading:!u,validationSchema:u,onSubmit:function(){return D.apply(this,arguments)}},function(e){var t=e.Form,n=e.Title,a=e.Actions,o=e.Footer,c=e.Link,s=e.ErrorMessage,l=e.values,u=e.handleChange,d=e.handleBlur,p=e.handleSubmit,f=e.errors,b=e.touched,h=e.isSubmitting;return A?r.a.createElement(X,{title:"Please check your inbox to verify your registration",email:S,bulletPoints:["The verification link needs to be opened with the same browser that you used to sign up.",r.a.createElement(r.a.Fragment,null,"Make sure you don\u2019t already have an account on Politeia with this email address. If you do, you should"," ",r.a.createElement(c,{to:"/user/request-reset-password"},"reset your password")," ","instead.")]}):r.a.createElement(t,{onSubmit:p},r.a.createElement(n,null,"Create a new account"),f&&f.global&&r.a.createElement(s,null,f.global.toString()),r.a.createElement(i.B,{label:"Email",id:"email",value:l.email,onChange:u,onBlur:d,error:b.email&&f.email}),r.a.createElement(i.B,{label:"Username",id:"username",value:l.username,onChange:u,onBlur:d,error:b.username&&f.username}),r.a.createElement(i.B,{id:"password",label:"Password",type:"password",value:l.password,onChange:u,onBlur:d,error:b.password&&f.password}),r.a.createElement(i.B,{id:"verify_password",label:"Verify Password",type:"password",value:l.verify_password,onChange:u,onBlur:d,error:b.verify_password&&f.verify_password}),m&&r.a.createElement(i.B,{label:"Verification Token",id:"verificationtoken",value:l.verificationtoken,onChange:u,onBlur:d,error:b.verificationtoken&&f.verificationtoken}),r.a.createElement(a,null,r.a.createElement(c,{to:"/user/resend-verification-email"},"Resend verification email"),r.a.createElement(i.b,{type:"submit",loading:h},"Sign up")),r.a.createElement(o,{className:"justify-right"},r.a.createElement(i.A,null,"Already have an account? ",r.a.createElement(c,{to:"/user/login"},"Log in!"))))}),r.a.createElement(J,{show:l&&l.verificationtoken},r.a.createElement(G.a,{to:"/user/verify-email?email=".concat(S,"&verificationtoken=").concat(l&&l.verificationtoken)},"Verify email")))},oe=function(){return r.a.createElement(E.a,null,r.a.createElement(re,null))},ce=function(e){var t,n=e.minusernamelength,a=e.maxusernamelength,r=e.usernamesupportedchars;return(t=U.string()).matches.apply(t,Object(q.a)(Object(V.c)("username",r))).min(n,Object(V.b)("username",n)).max(a,Object(V.a)("username",a)).required("Required")},ie=function(e){return U.object().shape({username:ce(e),email:U.string().email("Invalid email").required("Required")})},se=function(e){var t=e.minpasswordlength;return U.object().shape({newpassword:U.string().min(t).required("Required"),verify_password:U.string().oneOf([U.ref("newpassword")],"Passwords must match").required("Required")})},le=function(e){return U.object().shape({username:ce(e),verificationtoken:U.string().required("Verification token is required")})},ue={requestResetResponse:ee.Td},me={onVerifyResetPassword:F.Mb,onResetPassword:F.lb};function de(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(B.a)().policy;return Object(a.useEffect)(function(){if(c){var t=e(c);o(t)}},[c,e]),r}var pe=function(){var e=function(e){var t=Object(s.b)(e,ue,me),n=t.onResetPassword,a=t.requestResetResponse;return{onResetPassword:n,validationSchema:de(ie),requestResetResponse:a}}(),t=e.validationSchema,n=e.onResetPassword,o=e.requestResetResponse,c=Object(a.useState)(""),l=Object(j.a)(c,2),u=l[0],m=l[1],d=Object(a.useState)(""),p=Object(j.a)(d,2),f=p[0],b=p[1],h=!!u&&!!f;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{initialValues:{username:"",email:""},validationSchema:t,onSubmit:function(){var e=Object(y.a)(O.a.mark(function e(t,a){var r,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.setSubmitting,o=a.setFieldError,e.prev=1,e.next=4,n(t);case 4:r(!1),m(t.username),b(t.email),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1),o("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},function(e){var t=e.Form,n=e.Title,a=e.Actions,o=e.ErrorMessage,c=e.values,s=e.handleChange,l=e.handleBlur,u=e.handleSubmit,m=e.errors,d=e.touched,p=e.isSubmitting;return h?r.a.createElement(X,{email:f,title:"Please check your mailbox to reset your password"}):r.a.createElement(t,{onSubmit:u},r.a.createElement(n,null,"Reset Password"),m&&m.global&&r.a.createElement(o,null,m.global.toString()),r.a.createElement(i.B,{label:"Username",id:"username",value:c.username,onChange:s,onBlur:l,error:d.username&&m.username}),r.a.createElement(i.B,{label:"Email",id:"email",value:c.email,onChange:s,onBlur:l,error:d.email&&m.email}),r.a.createElement(a,null,r.a.createElement(i.b,{loading:p,type:"submit"},"Reset Password")))}),r.a.createElement(J,{show:o&&o.verificationtoken},r.a.createElement(G.a,{to:"/user/reset-password?username=".concat(u,"&verificationtoken=").concat(o&&o.verificationtoken)},"Reset password")))},fe=function(){return r.a.createElement(E.a,null,r.a.createElement(pe,null))},be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.i,null,"Password reset completed"),r.a.createElement(i.r,{style:{marginTop:"2rem",marginBottom:0}},"Your password has been changed. You can now login with your new password."))},he=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],o=t[1],c=function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(j.a)(c,2),l=i[0],u=i[1],m=Object(s.b)(e,ue,me).onVerifyResetPassword,d=de(se),p=de(le);return Object(a.useEffect)(function(){function e(){return(e=Object(y.a)(O.a.mark(function e(t){var n,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object($.b)(),a=n.username,r=n.verificationtoken,e.next=3,t.isValid({username:a,verificationtoken:r});case 3:if(e.sent){e.next=7;break}return u("Invalid email, username or verification token"),e.abrupt("return");case 7:o({username:a||"",verificationtoken:r||"",newpassword:"",verify_password:""});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}p&&function(t){e.apply(this,arguments)}(p)},[p]),{onVerifyResetPassword:m,validationSchema:d,initialValues:r,invalidParamsError:l}}(),l=c.onVerifyResetPassword,u=c.validationSchema,m=c.initialValues,d=c.invalidParamsError;if(d)throw d;function p(){return(p=Object(y.a)(O.a.mark(function e(t,n){var a,r,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,r=n.setFieldError,c=n.resetForm,e.prev=1,e.next=4,l(t);case 4:a(!1),o(!0),c(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a(!1),r("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}return r.a.createElement(M,{initialValues:m,validationSchema:u,loading:!u,onSubmit:function(e,t){return p.apply(this,arguments)},enableReinitialize:!0},function(e){var t=e.Form,a=e.Title,o=e.Actions,c=e.ErrorMessage,s=e.values,l=e.handleChange,u=e.handleBlur,m=e.handleSubmit,d=e.errors,p=e.touched,f=e.isSubmitting;return n?r.a.createElement(be,null):r.a.createElement(t,{onSubmit:m},r.a.createElement(a,null,"Reset Password"),d&&d.global&&r.a.createElement(c,null,d.global.toString()),r.a.createElement(i.B,{id:"newpassword",label:"Password",type:"password",value:s.newpassword,onChange:l,onBlur:u,error:p.newpassword&&d.newpassword}),r.a.createElement(i.B,{id:"verify_password",label:"Confirm Password",type:"password",value:s.verify_password,onChange:l,onBlur:u,error:p.verify_password&&d.verify_password}),r.a.createElement(o,null,r.a.createElement(i.b,{loading:f,type:"submit"},"Reset Password")))})},ge=function(){return r.a.createElement(E.a,null,r.a.createElement(he,null))},ve=function(){return U.object().shape({email:U.string().email("Invalid email").required("Required")})},Ee=function(){return U.object().shape({email:U.string().email("Invalid email").required("Email is required"),verificationtoken:U.string().required("Verification token is required")})},we={resendVerificationEmailResponse:ee.Rd},Oe={onVerify:F.Lb,onResendVerificationEmail:F.fb,resetResendVerificationEmail:F.Xb};var ye=function(){var e=function(e){var t=Object(s.b)(e,we,Oe),n=t.onResendVerificationEmail,r=t.resendVerificationEmailResponse,o=t.resetResendVerificationEmail,c=ve();return Object(a.useEffect)(function(){return function(){o()}},[o]),{validationSchema:c,onResendVerificationEmail:n,resendVerificationEmailResponse:r}}(),t=e.validationSchema,n=e.onResendVerificationEmail,o=e.resendVerificationEmailResponse,c=Object(a.useState)(function(){return function(){return null}}),l=Object(j.a)(c,2),u=l[0],m=l[1],d=Object(a.useState)(function(){return function(){return null}}),p=Object(j.a)(d,2),f=p[0],b=p[1],h=Object(a.useState)(!1),g=Object(j.a)(h,2),v=g[0],E=g[1],w=Object(a.useState)(!1),k=Object(j.a)(w,2),_=k[0],C=k[1],S=!!v,x=function(e,t){var a=t.setSubmitting,r=t.resetForm,o=t.setFieldError;return Object(y.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C(!1),t.prev=1,t.next=4,n(e);case 4:a(!1),E(e.email),r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(!1),o("global",t.t0);case 13:case"end":return t.stop()}},t,null,[[1,9]])}))},P=function(e,t){var n=t.setSubmitting;return function(){n(!1),C(!1)}};function N(){return(N=Object(y.a)(O.a.mark(function e(){var t,n,a,r=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a];C(!0),m(function(){return x.apply(void 0,n)}),b(function(){return P.apply(void 0,n)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{show:_,title:"Before you continue",confirmMessage:"I understand, continue",onClose:f,onConfirm:u}),r.a.createElement(M,{initialValues:{email:""},validationSchema:t,onSubmit:function(){return N.apply(this,arguments)}},function(e){var t=e.Form,n=e.Title,a=e.Actions,o=e.values,c=e.handleChange,s=e.handleBlur,l=e.handleSubmit,u=e.errors,m=e.touched;return S?r.a.createElement(X,{title:"Please check your inbox for your verification email"}):r.a.createElement(t,{onSubmit:l},r.a.createElement(n,null,"Resend Verification Email"),r.a.createElement(i.B,{label:"Email",id:"email",value:o.email,onChange:c,onBlur:s,error:m.email&&u.email}),r.a.createElement(a,null,r.a.createElement(i.b,{type:"submit"},"Resend")))}),r.a.createElement(J,{show:o&&o.verificationtoken},r.a.createElement(G.a,{to:"/user/verify-email?email=".concat(v,"&verificationtoken=").concat(o&&o.verificationtoken)},"Verify email")))},je=function(){return r.a.createElement(E.a,null,r.a.createElement(ye,null))},ke=function(){var e=Object(c.c)().privacyPolicyContent;return r.a.createElement(E.a,{contentWidth:"widen"},r.a.createElement(I.a,{contentName:e}))},_e=n(1034),Ce=n.n(_e),Se=function(e){var t=e.message,n=e.spinnerProps,a=Object(b.a)(e,["message","spinnerProps"]);return r.a.createElement("div",Object.assign({className:Ce.a.wrapper},a),r.a.createElement(i.u,n),r.a.createElement("span",{className:Ce.a.text},t))},xe=function(){var e=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(j.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(j.a)(m,2),p=d[0],f=d[1],b=Object(s.b)(e,we,Oe).onVerify;return Object(a.useEffect)(function(){var e=Ee();function t(){return(t=Object(y.a)(O.a.mark(function t(){var n,a,r;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),n=Object($.b)(),a=n.email,r=n.verificationtoken,t.next=5,e.isValid({email:a,verificationtoken:r});case 5:if(t.sent){t.next=8;break}throw new Error("Invalid email or verification token");case 8:return t.next=10,b(a,r);case 10:o(!1),u(!0),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),o(!1),f(t.t0);case 18:case"end":return t.stop()}},t,null,[[0,14]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[b]),{success:l,loading:r,error:p}}(),t=e.success,n=e.loading,o=e.error;if(o)throw o;return n||!t?r.a.createElement(Se,{message:"Verifying email...",spinnerProps:{invert:!0}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.i,null,"Your email has been successfully verified"),r.a.createElement(i.r,{style:{marginTop:"2rem"}},"To complete your registration and to be able to submit proposals and comments, you must pay a small fee in DOS, which is used to help deter spam in Politeia."),r.a.createElement(i.r,null,"Please log in to find instructions on how to pay the registration fee."))},Pe=function(){return r.a.createElement(E.a,null,r.a.createElement(xe,null))},Ne=n(75),Te=n(34),Re=function(e){var t=e.show,n=e.onClose,a=e.validationSchema,o=e.onChangeUsername,c=function(){var e=Object(y.a)(O.a.mark(function e(t,a){var r,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,c=a.setSubmitting,i=a.setFieldError,e.prev=1,e.next=4,o(t);case 4:r(),c(!1),window.setTimeout(n,200),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1),i("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(i.q,{title:"Change Username",show:t,onClose:n},r.a.createElement(M,{initialValues:{newUsername:"",password:""},onSubmit:c,loading:!a,validationSchema:a},function(e){var t=e.Form,n=e.Actions,a=e.ErrorMessage,o=e.values,c=e.handleChange,s=e.handleBlur,l=e.handleSubmit,u=e.isSubmitting,m=e.errors,d=e.touched,p=o.newUsername&&o.password&&Object(Te.q)(m);return r.a.createElement(t,{onSubmit:l},m&&m.global&&r.a.createElement(a,null,m.global.toString()),r.a.createElement(i.B,{label:"New Username",id:"newUsername",type:"username",value:o.newUsername,onChange:c,onBlur:s,error:d.newUsername&&m.newUsername}),r.a.createElement(i.B,{label:"Password",id:"password",type:"password",value:o.password,onChange:c,onBlur:s,error:d.password&&m.password}),r.a.createElement(n,null,r.a.createElement(i.b,{loading:u,kind:p?"primary":"disabled",type:"submit"},"Change Username")))}))};var Ae=function(e,t){var n=Object(a.useState)(Object($.a)(e)||t),r=Object(j.a)(n,2),o=r[0],c=r[1];return[o,function(t){c(t),Object($.d)(e,t)}]};var Le=function(e,t,n){n=n.map(function(e){return e.toLowerCase()});var r=Ae(e,n[t]),o=Object(j.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)(t),l=Object(j.a)(s,2),u=l[0],m=l[1],d=Object(a.useCallback)(function(e){var t=n[e];i(t)},[n,i]);return Object(a.useEffect)(function(){var e=n.findIndex(function(e){return e===c});m(e)},[c,n]),Object(a.useMemo)(function(){return[u,d]},[u,d])},Me=n(1036),Ie=n.n(Me),De=function(e){var t=e.show,n=e.onClose,a=e.validationSchema,o=e.onChangePassword,c=function(){var e=Object(y.a)(O.a.mark(function e(t,a){var r,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,c=a.setSubmitting,i=a.setFieldError,e.prev=1,e.next=4,o(t);case 4:r(),c(!1),window.setTimeout(n,200),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1),i("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(i.q,{title:"Change Password",show:t,onClose:n},r.a.createElement(M,{initialValues:{existingPassword:"",newPassword:"",newPasswordVerify:""},onSubmit:c,loading:!a,validationSchema:a},function(e){var t=e.Form,n=e.Actions,a=e.ErrorMessage,o=e.values,c=e.handleChange,s=e.handleBlur,l=e.handleSubmit,u=e.isSubmitting,m=e.errors,d=e.touched,p=o.existingPassword&&o.newPassword&&o.newPasswordVerify&&Object(Te.q)(m);return r.a.createElement(t,{onSubmit:l},m&&m.global&&r.a.createElement(a,null,m.global.toString()),r.a.createElement(i.B,{label:"Current Password",id:"existingPassword",type:"password",value:o.existingPassword,onChange:c,onBlur:s,error:d.existingPassword&&m.existingPassword}),r.a.createElement(i.B,{label:"New Password",id:"newPassword",type:"password",value:o.newPassword,onChange:c,onBlur:s,error:d.newPassword&&m.newPassword}),r.a.createElement(i.B,{label:"Verify Password",id:"newPasswordVerify",type:"password",value:o.newPasswordVerify,onChange:c,onBlur:s,error:d.newPasswordVerify&&m.newPasswordVerify}),r.a.createElement(n,null,r.a.createElement(i.b,{loading:u,kind:p?"primary":"disabled",type:"submit"},"Change Password")))}))},Fe=function(e){var t=e.show,n=e.onClose,a=e.onSubmit,o=e.subject,c=function(){var e=Object(y.a)(O.a.mark(function e(t,r){var o,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.resetForm,c=r.setSubmitting,i=r.setFieldError,e.prev=1,e.next=4,a(t.reason);case 4:o(),c(!1),window.setTimeout(n,200),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1),i("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(i.q,{title:"Confirm Action",show:t,onClose:n},r.a.createElement(M,{initialValues:{reason:""},onSubmit:c},function(e){var t=e.Form,n=e.Actions,a=e.ErrorMessage,c=e.values,s=e.handleChange,l=e.handleBlur,u=e.handleSubmit,m=e.isSubmitting,d=e.errors,p=e.touched;return r.a.createElement(t,{onSubmit:u},d&&d.global&&r.a.createElement(a,null,d.global.toString()),r.a.createElement(i.B,{label:"Reason",name:"reason",id:"reason-for-".concat(o),type:"text",value:c.reason,onChange:s,onBlur:l,error:p.reason&&d.reason}),r.a.createElement(n,null,r.a.createElement(i.b,{loading:m,kind:c.reason?"primary":"disabled",type:"submit"},"Confirm")))}))},Be=n(23),qe=function(e){return new Date(1e3*e).toUTCString()},Ue="General",Ve="Preferences",We="Proposals",He=function(e){return!e},ze=function(e,t,n){return n||e||0===t},Ye=function(e){return e},Ge=function(e){return e},Je=function(e){return e},Ke=n(1037),Xe=n(38),Qe=n.n(Xe),Ze=n(41),$e=n.n(Ze),et=n(36),tt=function(e){var t=e.minpasswordlength;return U.object().shape({newPassword:U.string().min(t,Object(V.b)("password",t)).required("Required"),newPasswordVerify:U.string().oneOf([U.ref("newPassword")],"Passwords must match").required("Required"),existingPassword:U.string().min(t,Object(V.b)("password",t)).required("Required")})},nt=function(e){var t=e.reduce(function(e,t){return e+t},"^[");return new RegExp(t+="]*$")},at=function(e){var t=e.minusernamelength,n=e.usernamesupportedchars,a=e.maxusernamelength,r=e.minpasswordlength;return U.object().shape({newUsername:U.string().matches(nt(n),{excludeEmptyString:!0},{message:"Invalid username"}).min(t,Object(V.b)("username",t)).max(a,Object(V.a)("username",a)).required("Required"),password:U.string().min(r,Object(V.b)("password",r)).required("Required")})},rt={userId:Qe()($e()(["match","params","userid"]),Object(et.b)(1)),isAdmin:ee.Yb,user:ee.ie,loading:ee.Hc,loggedInAsUserId:ee.pe},ot={onFetchUser:F.K,onResetUser:F.qb};function ct(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}var it={isApiRequestingChangePassword:Object(et.f)(ee.kc,ee.bc),changePasswordResponse:ee.f},st={onChangePassword:F.sb};var lt={isApiRequestingChangeUsername:Object(et.f)(ee.kc,ee.cc),username:ee.Kb,changeUsernameResponse:ee.g},ut={onChangeUsername:F.tb};var mt={user:ee.ie,isApiRequestingUpdateUserKey:ee.Gc,isApiRequestingMarkAsPaid:function(e){return ee.pc(e)&&ee.bd(e)===Be.C},isApiRequestingMarkNewUserAsExpired:function(e){return ee.pc(e)&&ee.bd(e)===Be.E},isApiRequestingMarkUpdateKeyAsExpired:function(e){return ee.pc(e)&&ee.bd(e)===Be.G},isApiRequestingMarkResetPasswordAsExpired:function(e){return ee.pc(e)&&ee.bd(e)===Be.F},isApiRequestingUnlockUser:function(e){return ee.pc(e)&&ee.bd(e)===Be.I},isApiRequestingDeactivateUser:function(e){return ee.pc(e)&&ee.bd(e)===Be.D},isApiRequestingReactivateUser:function(e){return ee.pc(e)&&ee.bd(e)===Be.H},manageUserResponse:ee.cd},dt={onManageUser:F.Z};var pt=n(1038),ft=n.n(pt),bt=function(e){var t=e.label,n=e.info,a=e.alignLabelCenter,o=e.className;return r.a.createElement("div",{className:Object(i.E)(ft.a.sectionWrapper,"margin-top-m",o)},r.a.createElement("span",{className:ft.a.label,style:a&&{alignSelf:"center"}},t),r.a.createElement("span",{className:ft.a.info},n))},ht=n(334),gt=n(118),vt=function(e){var t,n,o,c=e.proposalcredits,l=e.identities,u=e.id,m=e.newuserverificationtoken,d=e.newuserpaywalltx,p=e.newuserpaywalladdress,f=e.newuserpaywallamount,b=e.newuserpaywalltxnotbefore,h=e.failedloginattempts,g=e.resetpasswordverificationtoken,v=e.resetpasswordverificationexpiry,E=e.islocked,w=e.isdeactivated,O=e.isUserPageOwner,y=e.isadmin,_=e.isAdmin,C=function(e){var t=Object(s.b)(e,mt,dt),n=Object(Ke.a)({},t);return Object(k.a)({},n,{validateUUID:ct})}(),S=C.onManageUser,x=C.isApiRequestingDeactivateUser,P=C.isApiRequestingReactivateUser,N=C.isApiRequestingMarkAsPaid,T=x||P,R=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1];return{showMarkAsExpiredConfirmModal:n,openMarkAsExpiredConfirmModal:function(){return r(!0)},closeMarkAsExpiredConfirmModal:function(){return r(!1)}}}(),A=R.showMarkAsExpiredConfirmModal,L=R.openMarkAsExpiredConfirmModal,M=R.closeMarkAsExpiredConfirmModal,I=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1];return{showActivationConfirmModal:n,openActivationModal:function(e){e.preventDefault(),r(!0)},closeActivationModal:function(){r(!1)}}}(),D=I.showActivationConfirmModal,F=I.openActivationModal,q=I.closeActivationModal,U=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1];return{showMarkAsPaidConfirmModal:n,openMarkAsPaidModal:function(e){e.preventDefault(),r(!0)},closeMarkAsPaidModal:function(){r(!1)}}}(),V=U.showMarkAsPaidConfirmModal,W=U.openMarkAsPaidModal,H=U.closeMarkAsPaidModal,z=Object(a.useState)(!1),Y=Object(j.a)(z,2),G=Y[0],J=Y[1],K=function(e){var t=Object(s.b)(e,it,st),n=Object(B.a)().policy,r=Object(a.useState)(n?tt(n):null),o=Object(j.a)(r,2),c=o[0],i=o[1];return Object(a.useEffect)(function(){n&&!c&&i(tt(n))},[n,c]),Object(k.a)({},t,{validationSchema:c})}(),X=K.onChangePassword,Q=K.validationSchema,Z=Object(gt.a)(),$=Z.userPaywallStatus,ee=Z.paywallAmount,te=Z.paywallAddress,ne=Object(a.useState)(!1),ae=Object(j.a)(ne,2),re=ae[0],oe=ae[1],ce=O||_;return r.a.createElement(i.c,{paddingSize:"small"},r.a.createElement(bt,{className:"no-margin-top",label:"Admin:",info:Ge(y)?"Yes":"No"}),r.a.createElement(bt,{label:"User public key:",info:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{wordBreak:"break-word"}},(o=l,o.filter(function(e){return e.isactive})[0].pubkey)),O&&r.a.createElement(i.b,{className:"margin-top-s",size:"sm"},"Manage Identity"))}),ce&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{label:"Proposal credits:",info:r.a.createElement(r.a.Fragment,null,c,_&&r.a.createElement(i.b,{className:"margin-top-s",size:"sm"},"Rescan"))}),r.a.createElement(bt,{label:"Verified email:",info:He(m)?"Yes":"No"}),r.a.createElement(bt,{label:"Registration fee:",info:r.a.createElement(r.a.Fragment,null,ze(d,f,O&&$===Be.U)?"Paid":"Not paid",!ze(d,f,O&&$===Be.U)&&_?r.a.createElement(i.b,{className:"margin-top-s",loading:N,size:"sm",onClick:W},"Mark as paid"):!ze(d,f,O&&$===Be.U)&&r.a.createElement(i.b,{className:"margin-top-s",size:"sm",onClick:function(e){e.preventDefault(),oe(!0)}},"Pay registration fee"))}),r.a.createElement(bt,{label:"Address:",info:r.a.createElement("span",{style:{wordBreak:"break-word"}},p)}),r.a.createElement(bt,{label:"Amount:",info:"".concat((n=f,n/1e8)," DOS")}),r.a.createElement(bt,{label:"Pay after:",info:qe(b)}),r.a.createElement(bt,{label:"Failed login attempts:",info:h}),r.a.createElement(bt,{label:"Locked:",info:Ye(E)?"Yes":"No"}),r.a.createElement(bt,{label:"Deactivated:",info:r.a.createElement(r.a.Fragment,null,Je(w)?"Yes":"No",_&&(Je(w)?_&&r.a.createElement(i.b,{className:"margin-top-s",loading:T,size:"sm",onClick:F},"Reactivate"):r.a.createElement(i.b,{className:"margin-top-s",loading:T,size:"sm",onClick:F},"Deactivate")))}),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{label:"Reset password token:",info:g}),r.a.createElement(bt,{label:"Expires:",info:(t=v,(new Date).getTime()>1e3*t?r.a.createElement("span",null,"Expired"):r.a.createElement(r.a.Fragment,null,qe(v),r.a.createElement(i.b,{loading:T,size:"sm",onClick:L},"Mark as expired")))}))),r.a.createElement(De,{onChangePassword:X,validationSchema:Q,show:G,onClose:function(){return J(!1)}}),r.a.createElement(Fe,{subject:"expireResetPasswordToken",onSubmit:function(e){return S(u,Be.F,e)},validationSchema:Q,show:A,onClose:M}),r.a.createElement(Fe,{subject:"deactivateOrReactivateUser",onSubmit:w?function(e){return S(u,Be.H,e)}:function(e){return S(u,Be.D,e)},validationSchema:Q,show:D,onClose:q}),r.a.createElement(Fe,{subject:"markUserPaywallAsPaid",onSubmit:function(e){return S(u,Be.C,e)},validationSchema:Q,show:V,onClose:H}),r.a.createElement(ht.a,{show:re,title:"Complete your registration",address:te,amount:ee,onClose:function(){return oe(!1)},status:$}))},Et=function(){return r.a.createElement("div",null,"Preferences (waiting design)")},wt={proposals:ee.Jb,loading:Object(et.f)(ee.ne,ee.Ac)},Ot={onFetchUserProposals:F.M};var yt=n(335),jt={proposalVoteResults:ee.w,loading:ee.xc,error:ee.x},kt={onFetchProposalVoteResults:F.E},_t=n(1080),Ct=n.n(_t),St=U.object().shape({search:U.string().min(64,Object(V.b)("Ticket token",64)).required("Required")});var xt=function(e){var t=e.show,n=e.onClose,o=e.proposal,c=Object(a.useState)(null),l=Object(j.a)(c,2),u=l[0],m=l[1],d=function(e,t){var n=Object(s.b)({},jt,kt),r=n.onFetchProposalVoteResults,o=n.proposalVoteResults,c=n.loading,i=n.error;return Object(a.useEffect)(function(){t&&r(e)},[e,t,r]),{votes:o?o.castvotes:[],loading:c,error:i}}(o.censorshiprecord.token,t),p=d.votes,f=d.loading,b=d.error;Object(a.useEffect)(function(){m(null)},[t]);return r.a.createElement(i.q,{show:t,onClose:n,title:"Search votes - ".concat(o.name),className:Ct.a.searchVotesModal},r.a.createElement(_.a,{initialValues:{search:""},onSubmit:function(e,t){var n,a=t.resetForm,r=t.setSubmitting,o=t.setFieldError,c=function(e,t){return t[e]}(e.search,p);if(m(null),!c)return o("global","Ticket not found"),void r(!1);a(),m({Ticket:(n=c).ticket,Option:"2"===n.votebit?"Yes":"No"})},validationSchema:St},function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.touched,s=e.errors,l=s&&s.global||b;return r.a.createElement("div",{className:Ct.a.contentWrapper},l&&r.a.createElement(i.p,{kind:"error"},l.toString()),f?r.a.createElement("div",{className:Ct.a.loadingWrapper},r.a.createElement(i.u,{invert:!0}),r.a.createElement("span",null,"Fetching proposal votes...")):r.a.createElement(i.a,{searchInput:!0,name:"search",onChange:n,onBlur:a,value:t.search,placeholder:"Search vote by Ticket Token",onSubmit:o,error:c.search&&s.search}))}),u&&r.a.createElement(i.y,{data:[u],headers:["Ticket","Option"],disablePagination:!0}))},Pt=n(1081),Nt=n.n(Pt),Tt=n(484),Rt=n.n(Tt),At=n(1094),Lt=n.n(At),Mt=function(e){var t=e.timestamp,n=e.placement,o=e.className,c=e.children,s=new Date(1e3*t),l=Object(a.useMemo)(function(){return function(e){return Rt()(new Date,new Date(1e3*e),{addSuffix:!0})}(t)},[t]);return r.a.createElement(i.C,{className:Object(i.E)(o,Lt.a.dateTooltip),content:s.toISOString(),placement:n},c({timeAgo:l}))},It=n(485),Dt=n.n(It),Ft=function(e){var t=e.content,n=e.fileName,a=e.label,o=e.customComponent,c=Object(b.a)(e,["content","fileName","label","customComponent"]);function s(){var e=JSON.stringify(t,null,2);Dt()(e,"".concat(n,".json"))}return o?o({onDownload:s}):r.a.createElement(i.n,Object.assign({},c,{customComponent:function(e){return r.a.createElement("span",Object.assign({style:{cursor:"pointer"}},e,{onClick:s}),a)}}))},Bt=n(220),qt=n(1095),Ut=n.n(qt),Vt=n(25),Wt=n.n(Vt),Ht=n(1096),zt=n.n(Ht),Yt=function(e){var t=e.children,n=e.SeparatorComponent,a=e.className,o=r.a.Children.toArray(t).filter(function(e){return!!e});return r.a.createElement("div",{className:Object(i.E)(zt.a.join,a)},o.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:"join-".concat(t)},r.a.cloneElement(e),o[t+1]?r.a.createElement(n,null):"")}))};Yt.propType={children:Wt.a.node,SeparatorComponent:Wt.a.node},Yt.defaultProps={SeparatorComponent:function(){return r.a.createElement("span",{className:"margin-left-s margin-right-s color-gray"},"\u2022")}};var Gt=Yt,Jt=n(1097),Kt=n.n(Jt),Xt=function(e){var t=e.onClick,n=e.className,a=(e.iconClassName,Object(b.a)(e,["onClick","className","iconClassName"]));return r.a.createElement("button",{onClick:t,className:Object(i.E)(Kt.a.iconButton,n)},r.a.createElement(i.m,a))},Qt=n(1098),Zt=n.n(Qt),$t=function(e){var t=e.children,n=e.value,o=e.tooltipText,c=Object(a.useState)(!1),s=Object(j.a)(c,2),l=s[0],u=s[1];return r.a.createElement(i.C,{className:Zt.a.copyTooltip,placement:"bottom",content:l?"Copied!":o},t({onCopyToClipboard:function(){!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(n),u(!0),setTimeout(function(){u(!1)},600)}}))},en=function(e){var t=e.url,n=e.className;return r.a.createElement($t,{value:t,tooltipText:"Copy link"},function(e){var t=e.onCopyToClipboard;return r.a.createElement(Xt,{className:n,type:"link",onClick:t})})},tn=function(e){var t=e.username,n=e.id;return r.a.createElement(C.a,{to:"/user/".concat(n)},t)},nn=function(e){var t=e.event,n=e.timestamp;return r.a.createElement(Mt,{className:"hide-on-mobile",timestamp:n,placement:"bottom"},function(e){var a=e.timeAgo;return r.a.createElement(i.A,{id:"event-".concat(t,"-").concat(n),color:"gray",truncate:!0},"".concat(t," ").concat(a))})},an=function(e){var t=e.token;return r.a.createElement("div",{className:"align-center overflow-hidden"},r.a.createElement(i.m,{type:"sign",className:"margin-right-xs"}),r.a.createElement(i.A,{id:"proposal-token-".concat(t),truncate:!0},t))},rn=function(e){var t=e.children,n=e.url,a=Object(b.a)(e,["children","url"]),o=n?C.a:function(e){return r.a.createElement("div",e)};return r.a.createElement(o,{to:n,className:Nt.a.title},r.a.createElement(i.i,a,t))},on=function(e){var t=e.children;return r.a.createElement(Gt,{className:"margin-top-s",SeparatorComponent:function(){return r.a.createElement("span",{className:"margin-left-s margin-right-s hide-on-mobile color-gray"},"\u2022")}},t)},cn=function(e){var t=e.url;return r.a.createElement(C.a,{to:t},r.a.createElement(i.m,{type:"edit",className:Nt.a.editButton}))},sn=function(e){var t=e.children;return r.a.createElement("div",{className:Nt.a.status},t)},ln=function(e){var t=e.title,n=e.status,a=e.edit;return r.a.createElement("div",{className:Nt.a.titleWrapper},r.a.createElement("div",{className:Nt.a.titleEditWrapper},t),r.a.createElement("div",{className:Nt.a.titleStatusWrapper},n,a))},un=function(e){var t=e.title,n=e.subtitle,a=e.status,o=e.edit,c=e.mobile;return r.a.createElement("div",{className:Nt.a.header},c?r.a.createElement(ln,{title:t,status:a,edit:o}):r.a.createElement("div",{className:Nt.a.titleWrapper},r.a.createElement("div",{className:Nt.a.titleEditWrapper},t,o),r.a.createElement("div",{className:Nt.a.titleStatusWrapper},a)),n)},mn=function(e){var t=e.token,n=Object(c.c)(),a=n.testnetGitRepository,o=n.mainnetGitRepository,s=Object(l.b)().apiInfo.testnet?a:o;return r.a.createElement(i.n,{target:"_blank",href:"".concat(s,"/").concat(t)},r.a.createElement("img",{alt:"github icon",src:Ut.a}))},dn=function(e){var t=e.numOfComments,n=e.url;return r.a.createElement(C.a,{to:n,gray:!0,className:Nt.a.commentsLink},r.a.createElement(i.m,{type:"discuss",className:"margin-right-s"}),r.a.createElement("span",null,t),"Comments")},pn=Ft;nn.defaultProps={show:!0};var fn=function(e){var t=e.children,n=e.className;return r.a.createElement(i.c,{className:Object(i.E)(Nt.a.recordCard,"margin-bottom-m",n)},t({Author:tn,Event:nn,Row:Bt.a,Title:rn,CommentsLink:dn,Link:C.a,GithubLink:mn,CopyLink:en,DownloadRecord:pn,Header:un,Subtitle:on,Edit:cn,Status:sn,RecordToken:an}))},bn=n(160);var hn=n(486),gn=n.n(hn),vn=n(1099),En=n.n(vn),wn=function(e){var t=e.quorumVotes,n=e.votesReceived,a=e.onSearchVotes,o=e.isVoteActive,c=Object(i.I)("(max-width:560px)"),s=t-n;return r.a.createElement("div",{className:gn.a.voteCount},c?o?r.a.createElement(i.A,{color:"gray",size:"small"},s>0?s:""," votes left"):null:r.a.createElement(r.a.Fragment,null,a&&n>0&&r.a.createElement("img",{onClick:a,alt:"Search votes",className:gn.a.voteCountSearch,src:En.a}),r.a.createElement(i.A,{size:"small"},n,"/"),r.a.createElement(i.A,{color:"gray",size:"small"},"".concat(t," votes"))))},On=(Object(a.createContext)(),{comments:ee.Cd});var yn=function(e){var t,n=e.recordToken,a=e.className,o=Object(s.b)(t,On,{}).comments;return!!o&&!!o.length&&r.a.createElement(Ft,{label:"Download Comments Bundle",fileName:"".concat(n,"-comments"),content:o,className:a})},jn=function(e){var t=e.proposal,n=e.extended,o=t.censorshiprecord,c=t.files,s=t.name,u=t.numcomments,m=t.publishedat,d=t.abandonedat,p=t.timestamp,f=t.userid,b=t.username,h=t.version,g=t.voteStatus,v=Object(l.c)().currentUser,E=!!g&&!!g.endheight,w=o&&o.token,O="/proposal/".concat(w),y=Object(bn.j)(t),k=Object(bn.h)(t),_=v&&v.userid===f&&Object(bn.i)(t),C=function(e){var t=Object(l.c)().apiInfo,n=e&&e.voteStatus&&e.voteStatus.bestblock,a=Object(bn.f)(e,n,t.testnet),r=Object(bn.e)(e,n);return{voteActive:Object(bn.k)(e),voteTimeLeft:a,voteBlocksLeft:r}}(t),S=C.voteActive,x=C.voteTimeLeft,P=C.voteBlocksLeft,N=Object(i.I)("(max-width: 560px)"),T=Object(a.useState)(!1),R=Object(j.a)(T,2),A=R[0],L=R[1];function M(){L(!0)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(fn,null,function(e){var a=e.Author,o=e.Event,l=e.Row,v=e.Title,j=e.CommentsLink,C=(e.Link,e.GithubLink),T=e.CopyLink,R=e.DownloadRecord,A=e.Header,L=e.Subtitle,I=e.Edit,D=e.Status,F=e.RecordToken;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{title:r.a.createElement(v,{id:"proposal-title-".concat(w),truncate:!0,linesBeforeTruncate:2,url:n?"":O},s),edit:_&&r.a.createElement(I,{url:"/proposal/".concat(w,"/edit")}),subtitle:r.a.createElement(L,null,r.a.createElement(a,{username:b,id:f}),m&&r.a.createElement(o,{event:"published",timestamp:m}),p!==m&&p!==d&&r.a.createElement(o,{event:"edited",timestamp:p}),d&&r.a.createElement(o,{event:"abandoned",timestamp:d}),h>1&&r.a.createElement(i.A,{id:"proposal-".concat(w,"-version"),className:Object(i.E)(gn.a.version,"hide-on-mobile"),color:"gray",truncate:!0},"version ".concat(h))),status:(y||k)&&r.a.createElement(D,null,r.a.createElement(i.w,Object.assign({className:gn.a.statusTag},Object(bn.b)(t))),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.A,{className:gn.a.timeLeft,size:"small",color:"gray"},"vote ends ".concat(x)),r.a.createElement(i.A,{className:"hide-on-mobile",size:"small",color:"gray"},"".concat(P," blocks left")))),mobile:N}),n&&r.a.createElement(l,{topMarginSize:"s"},r.a.createElement(F,{token:w})),E&&r.a.createElement(l,null,r.a.createElement(i.v,{max:Object(bn.c)(g),status:Object(bn.d)(g),markerPosition:"".concat(g.passpercentage,"%"),renderStatusInfoComponent:r.a.createElement(wn,{isVoteActive:S,quorumVotes:Object(bn.c)(g),votesReceived:Object(bn.g)(t),onSearchVotes:M})})),n&&r.a.createElement(yt.a,{className:gn.a.markdownContainer,body:Object(bn.a)(c)}),(y||k)&&!n&&r.a.createElement(l,{justify:"space-between"},r.a.createElement(j,{numOfComments:u,url:"/proposal/".concat(w,"?scrollToComments=true")}),r.a.createElement(C,{token:w})),n&&r.a.createElement(l,{className:gn.a.lastRow},r.a.createElement(l,{className:gn.a.downloadLinksWrapper,noMargin:!0},r.a.createElement(R,{fileName:w,content:t,className:"margin-right-s",label:"Download Proposal Bundle"}),y&&!!u&&r.a.createElement(yn,{recordToken:w,className:gn.a.downloadCommentsLink})),r.a.createElement(l,{className:gn.a.proposalActions},r.a.createElement(T,{className:gn.a.copyLink,url:window.location.origin+O}),r.a.createElement(C,{token:w}))))}),r.a.createElement(xt,{show:A,onClose:function(){L(!1)},proposal:t}))},kn=function(e){var t=function(e){var t=e.userID,n=e.userProposals,r=e.setUserProposals,o=Object(s.b)(e,wt,Ot),c=o.onFetchUserProposals,i=o.proposals,l=o.loading;return Object(a.useEffect)(function(){n||c(t)},[c,t,n]),Object(a.useEffect)(function(){var e=!!i,t=n&&n.length;e&&t&&n.length===i.length||r(i)},[i,n,r]),{proposals:n,loading:l}}(e),n=t.proposals,o=t.loading;return!!n&&!o&&r.a.createElement(r.a.Fragment,null,n.map(function(e){return t=e,r.a.createElement(jn,{key:t.censorshiprecord.token,proposal:t});var t}))},_n=Object(d.a)(function(e){var t=e.TopBanner,n=e.PageDetails,o=e.Sidebar,c=e.Main,l=e.Title,u=e.Tabs,m=e.Tab,d=function(e){var t=Object(s.b)(e,rt,ot);return Object(k.a)({},t,{validateUUID:ct})}({match:e.match}),p=d.onFetchUser,f=d.onResetUser,h=d.validateUUID,g=d.user,v=d.isAdmin,E=d.userId,w=d.loggedInAsUserId;if(!h(E))throw new Error("Invalid user ID");var O=Object(a.useState)(null),y=Object(j.a)(O,2),_=y[0],C=y[1],S=g&&w===g.id,x=g&&(v||w===g.id),P=[Ue,Ve,We],N=Le("tab",0,P),T=Object(j.a)(N,2),R=T[0],A=T[1],L=Object(a.useState)(!1),M=Object(j.a)(L,2),I=M[0],D=M[1],F=function(e){var t=Object(s.b)(e,lt,ut),n=Object(B.a)().policy,r=Object(a.useState)(n?at(n):null),o=Object(j.a)(r,2),c=o[0],i=o[1];return Object(a.useEffect)(function(){n&&!c&&i(at(n))},[n,c]),Object(k.a)({},t,{validationSchema:c})}(),q=F.username,U=F.onChangeUsername,V=F.validationSchema;Object(a.useEffect)(function(){g||p(E)},[E,p,g]),Object(a.useEffect)(function(){return function(){return f()}},[f]);var W=Object(a.useCallback)(function(e){C(e)},[]);return g?r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null,r.a.createElement(n,{title:r.a.createElement("div",{className:Ie.a.titleWrapper},r.a.createElement(l,null,q||g.username),S&&r.a.createElement(i.n,{href:"#",onClick:function(e){e.preventDefault(),D(!0)},className:Ie.a.titleLink},"Change Username")),subtitle:g.email},r.a.createElement(u,{onSelectTab:A,activeTabIndex:R},P.map(function(e){return r.a.createElement(m,{key:"tab".concat(e),label:e})})))),r.a.createElement(o,null),r.a.createElement(c,{className:"main"},function(e){var t=e.user,n=e.userProposals,a=e.setUserProposals,o=Object(b.a)(e,["user","userProposals","setUserProposals"]);return[r.a.createElement(vt,Object.assign({},t,o)),r.a.createElement(Et,o),r.a.createElement(kn,{userID:t.id,userProposals:n,setUserProposals:a})]}({user:g,isAdminOrTheUser:x,isUserPageOwner:S,isAdmin:v,userProposals:_,setUserProposals:W})[R]),r.a.createElement(Re,{validationSchema:V,onChangeUsername:U,show:I,onClose:function(){return D(!1)}})):null}),Cn=function(){return r.a.createElement(Ne.a,null,function(e){return r.a.createElement(_n,e)})},Sn=n(1100),xn=n.n(Sn),Pn=n(287),Nn="In Discussion",Tn="Voting",Rn="Approved",An="Rejected",Ln="Abandoned",Mn=function(e,t){if(!t)return[];var n=t.pre,a=t.active,r=t.approved,o=t.rejected,c=t.abandoned;switch(e){case Nn:return n;case Tn:return a;case Rn:return r;case An:return o;case Ln:return c;default:return[]}},In={loggedInAsEmail:ee.Zc,proposals:ee.Od,isLoading:Object(et.f)(ee.Ac,ee.mc),loadingTokenInventory:ee.H,error:Object(et.f)(ee.ve,ee.B,ee.G),proposalsTokens:ee.I,getVoteStatus:ee.tb},Dn={onFetchVettedByTokens:F.N,onFetchTokenInventory:F.H,onFetchProposalsVoteStatus:F.G};var Fn=n(487),Bn=function(e){var t=e.extended,n=Object(i.I)("(max-width: 560px)"),a=t?100:0;return r.a.createElement(fn,null,function(){return n?r.a.createElement(Fn.a,{height:t?300:170,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"0",width:"180",height:"10"}),r.a.createElement("rect",{x:"0",y:"20",width:"360",height:"20"}),r.a.createElement("rect",{x:"0",y:"60",width:"80",height:"20"}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"0",y:"100",width:"20",height:"14"}),r.a.createElement("rect",{x:"30",y:"100",width:"400",height:"14"}),r.a.createElement("rect",{x:"0",y:"134",width:"400",height:"1"}),r.a.createElement("rect",{x:"0",y:"154",width:"200",height:"12"}),r.a.createElement("rect",{x:"0",y:"180",width:"400",height:"12"}),r.a.createElement("rect",{x:"0",y:"212",width:"400",height:"1"})),r.a.createElement("rect",{x:"0",y:"".concat(156+a),width:"130",height:"14"}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"0",y:"220",width:"140",height:"20"}),r.a.createElement("rect",{x:"150",y:"220",width:"140",height:"20"}))):r.a.createElement(Fn.a,{height:t?240:100,width:800,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"0",width:"600",height:"20"}),r.a.createElement("rect",{x:"700",y:"0",width:"100",height:"20"}),r.a.createElement("rect",{x:"0",y:"40",width:"100",height:"10"}),r.a.createElement("rect",{x:"110",y:"40",width:"200",height:"10"}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"0",y:"60",width:"20",height:"14"}),r.a.createElement("rect",{x:"30",y:"60",width:"500",height:"14"}),r.a.createElement("rect",{x:"0",y:"100",width:"800",height:"1"}),r.a.createElement("rect",{x:"0",y:"120",width:"600",height:"12"}),r.a.createElement("rect",{x:"0",y:"136",width:"800",height:"12"}),r.a.createElement("rect",{x:"0",y:"164",width:"800",height:"1"})),r.a.createElement("rect",{x:"0",y:"".concat(80+a),width:"130",height:"14"}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"0",y:"220",width:"140",height:"20"}),r.a.createElement("rect",{x:"150",y:"220",width:"140",height:"20"})))})},qn=function(e){return r.a.createElement(jn,{key:e.censorshiprecord.token,proposal:e})},Un={itemsOnLoad:0},Vn="increment",Wn="decrement";function Hn(e,t){switch(t.type){case Vn:return{itemsOnLoad:e.itemsOnLoad+t.count};case Wn:return{itemsOnLoad:e.itemsOnLoad-t.count};default:throw new Error}}var zn=function(e){var t=e.TopBanner,n=e.PageDetails,o=e.Sidebar,c=e.Main,i=(e.Title,e.Tabs),l=e.Tab,u=Object(b.a)(e,["TopBanner","PageDetails","Sidebar","Main","Title","Tabs","Tab"]),m=Object(a.useState)(!0),d=Object(j.a)(m,2),h=d[0],g=d[1],v=Object(a.useReducer)(Hn,Un),E=Object(j.a)(v,2),w=E[0],k=E[1],_=w.itemsOnLoad,C=[Nn,Tn,Rn,An,Ln],S=Le("tab",0,C),x=Object(j.a)(S,2),P=x[0],N=x[1],T=C[P],R=u.pageSize,A=void 0===R?4:R,L=function(e){var t=Object(s.b)(e,In,Dn),n=t.onFetchTokenInventory,r=Object(b.a)(t,["onFetchTokenInventory"]);if(r.error)throw r.error;return Object(a.useEffect)(function(){n()},[n]),r}(u),M=L.isLoading,I=L.proposals,D=L.proposalsTokens,F=L.onFetchVettedByTokens,B=Mn(T,D),q=function(e,t,n){return function(e,t){return e.reduce(function(e,n){var a=t.find(function(e){return e&&e.censorshiprecord&&n===e.censorshiprecord.token});return a?e.concat([a]):e},[])}(Mn(e,n),t)}(T,I,D),U=function(){var e=Object(y.a)(O.a.mark(function e(){var t,n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q.length,n=B.slice(t,t+A),g(!1),a=n.length,k({type:Vn,count:a}),e.next=7,F(n);case 7:k({type:Wn,count:a});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){var e=B&&q.length<B.length;g(e)},[B,q.length]);var V=Object(a.useMemo)(function(){return function(e){for(var t=[],n=0;n<e;n++)t.push(r.a.createElement(Bn,{key:"placeholder-".concat(n)}));return t}(_)},[_]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null,r.a.createElement(n,{title:"Public Proposals"},r.a.createElement(i,{onSelectTab:N,activeTabIndex:P},C.map(function(e){return r.a.createElement(l,{key:"tab-".concat(e),count:(t=e,D?Mn(t,D).length:""),label:e});var t})))),r.a.createElement(o,null),r.a.createElement(c,{className:xn.a.customMain},D&&!M&&r.a.createElement(p.a,null,r.a.createElement(f.a,{key:P,classNames:"fade",timeout:200},r.a.createElement(Pn.a,{items:q,renderItem:qn,onFetchMore:U,hasMore:h,isLoading:_>0,loadingPlaceholder:V})))))};zn.defaultProps={pageSize:4};var Yn=zn,Gn=function(){return r.a.createElement(Ne.a,{disableScrollToTop:!0},function(e){return r.a.createElement(Yn,e)})},Jn=function(){return r.a.createElement(Ne.a,null,function(e){var t=e.TopBanner,n=e.PageDetails,a=e.Sidebar,o=e.Main;return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null,r.a.createElement(n,{title:"Your Proposals"})),r.a.createElement(a,null,"Sidebar"),r.a.createElement(o,null,"Main Content"))})},Kn=function(){return r.a.createElement(Ne.a,null,function(e){var t=e.TopBanner,n=e.PageDetails,a=e.Sidebar,o=e.Main;return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null,r.a.createElement(n,{title:"Admin"})),r.a.createElement(a,null,"Sidebar"),r.a.createElement(o,null,"Main Content"))})},Xn=n(1101),Qn=n.n(Xn),Zn=n(489),$n=n(1102),ea=n.n($n),ta=n(280),na=n(490),aa=n.n(na)()(function(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))},300),ra=function(e){var t=e.name,n=e.values,r=e.setValues;return Object(a.useEffect)(function(){var e=function(e){var t=window.sessionStorage.getItem(e);return t?JSON.parse(t):void 0}(t);e&&r(e)},[t,r]),Object(a.useEffect)(function(){aa(t,n)}),null},oa=function(e){var t=e.name;return r.a.createElement(_.b,null,function(e){return r.a.createElement(ra,Object.assign({name:t},e))})},ca=n(336),ia=U.object().shape({comment:U.string().required("Required")}),sa=function(e){var t=e.onSubmit,n=e.onCommentSubmitted,a=e.disableSubmit,o=e.persistKey,c=e.editorRef;function s(){return(s=Object(y.a)(O.a.mark(function e(a,r){var o,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.resetForm,c=r.setSubmitting,i=r.setFieldError,e.prev=1,e.next=4,t(a.comment);case 4:c(!1),o(),n&&n(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1),i("global",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}return r.a.createElement(_.a,{initialValues:{comment:""},loading:!ia,validationSchema:ia,onSubmit:function(e,t){return s.apply(this,arguments)}},function(e){var t=e.values,n=e.handleBlur,s=e.handleSubmit,l=e.isSubmitting,u=e.setFieldValue,m=e.errors,d=e.isValid;return r.a.createElement("form",{onSubmit:s},m&&m.global&&r.a.createElement(i.p,{kind:"error"},m.global.toString()),r.a.createElement(ca.a,{name:"comment",className:"margin-top-s",value:t.comment,onChange:function(e){u("comment",e)},onBlur:n,placeholder:"Write a comment",textAreaRef:c}),r.a.createElement(Bt.a,{justify:"right",topMarginSize:"s"},r.a.createElement(i.b,{type:"submit",kind:!d||a?"disabled":"primary",loading:l},"Add comment")),!!o&&r.a.createElement(oa,{name:o}))})},la=Object(a.createContext)(),ua={email:ee.Zc,comments:ee.Cd,commentsLikes:ee.S,loading:ee.dc,loadingLikes:ee.ec},ma={onSubmitComment:F.wb,onFetchComments:F.B,onFetchLikes:F.y,onLikeComment:F.T,onResetComments:F.gb};var da=n(498),pa=n.n(da),fa=n(1131),ba=n.n(fa),ha=function(e){var t,n=e.likes,o=e.onLike,c=e.onDislike,s=e.option,l=e.disabled,u=e.asyncLoading,m=Object(i.J)(),d=Object(a.useState)(!1),p=Object(j.a)(d,2),f=p[0],b=p[1],h=Object(i.H)(),g=Object(j.a)(h,2),v=g[0],E=g[1],w=Object(i.H)(),k=Object(j.a)(w,2),_=k[0],C=k[1],S=Object(i.G)(m,"color-gray"),x=Object(i.G)(m,"color-primary-dark"),P=1===(t=s)||"1"===t,N=function(e){return-1===e||"-1"===e}(s),T=l||f,R=!P&&!E||T?S:x,A=!N&&!C||T?S:x;function L(){return(L=Object(y.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l&&!f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,b(!0),e.next=6,o();case 6:b(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b(!1);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function M(){return(M=Object(y.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l&&!f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,b(!0),e.next=6,c();case 6:b(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b(!1);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}return r.a.createElement("div",{className:"align-center"},r.a.createElement("button",{disabled:f||l,ref:v,className:Object(i.E)(ba.a.likeBtn,"margin-right-s"),onClick:u?function(){return L.apply(this,arguments)}:o},r.a.createElement(i.m,{onClick:o,iconColor:R,backgroundColor:R,type:"like"})),r.a.createElement("button",{disabled:f||l,ref:_,className:ba.a.likeBtn,onClick:u?function(){return M.apply(this,arguments)}:c},r.a.createElement(i.m,{onClick:c,iconColor:A,backgroundColor:A,type:"dislike"})),r.a.createElement(i.A,{size:"small",className:ba.a.likesResult},n))};ha.defaultProps={active:!1,asyncLoading:!0};var ga=ha,va=function(e){var t=e.children,n=e.className,a=e.permalink,o=e.topLevelComment,c=e.author,s=e.authorID,l=e.createdAt,u=e.highlightAuthor,m=e.likesCount,d=e.likeOption,p=e.disableLikes,f=e.disableLikesClick,h=e.onLike,g=e.onDislike,v=e.commentBody,E=e.showReplies,w=e.disableReply,O=e.onClickReply,y=e.onClickShowReplies,j=e.numOfReplies,k=Object(b.a)(e,["children","className","permalink","topLevelComment","author","authorID","createdAt","highlightAuthor","likesCount","likeOption","disableLikes","disableLikesClick","onLike","onDislike","commentBody","showReplies","disableReply","onClickReply","onClickShowReplies","numOfReplies"]);return r.a.createElement("div",Object.assign({className:Object(i.E)(pa.a.commentWrapper,!o&&pa.a.withLeftPadding,n)},k),r.a.createElement("div",{className:"justify-space-between"},r.a.createElement(Gt,null,r.a.createElement(C.a,{className:Object(i.E)(pa.a.commentAuthor,u&&pa.a.recordAuthor),to:"/user/".concat(s)},c),r.a.createElement(Mt,{timestamp:l,placement:"bottom"},function(e){var t=e.timeAgo;return r.a.createElement(C.a,{className:pa.a.timeAgo,to:a,gray:!0},t)})),!p&&r.a.createElement(ga,{disabled:f,likes:m,option:d,onLike:h,onDislike:g})),r.a.createElement(yt.a,{className:"margin-top-s",body:v}),r.a.createElement("div",{className:"justify-space-between margin-top-s"},r.a.createElement("div",{className:"justify-left"},!w&&r.a.createElement(ta.a,null,r.a.createElement(i.A,{weight:"semibold",color:"gray",className:pa.a.reply,onClick:O},"Reply")),j>0&&r.a.createElement("span",{className:pa.a.showReplies,onClick:y},E?"-":"+".concat(j))),r.a.createElement(en,{url:window.location.origin+a})),t)},Ea=function(e){var t=e.comment,n=e.children,o=e.numOfReplies,c=Object(b.a)(e,["comment","children","numOfReplies"]),i=Object(a.useContext)(la),s=i.onSubmitComment,l=i.onLikeComment,u=i.getCommentLikeOption,m=i.enableCommentVote,d=i.recordAuthorID,p=i.loadingLikes,f=i.userLoggedIn,h=i.recordToken,g=i.recordType,v=i.threadParentID,E=i.readOnly,w=i.identityError,k=i.paywallMissing,_=i.openLoginModal,C=t.comment,S=t.token,x=t.commentid,P=t.resultvotes,N=t.timestamp,T=t.username,R=t.userid,A=t.parentid,L=Object(a.useCallback)(function(e){e&&(e.focus(),e.scrollIntoView({block:"center",inline:"nearest"}))},[]),M=d===R,I=0===+A||+x===+v,D=Object(a.useState)(!1),F=Object(j.a)(D,2),B=F[0],q=F[1],U=Object(a.useState)(I),V=Object(j.a)(U,2),W=V[0],H=V[1];function z(){return(z=Object(y.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s({comment:t,token:S,parentID:x}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(){return(Y=Object(y.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=3;break}return _(),e.abrupt("return");case 3:return e.abrupt("return",l(x,"1"));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(va,Object.assign({permalink:"/".concat(g,"/").concat(h,"/comments/").concat(x),topLevelComment:I,author:T,authorID:R,createdAt:N,highlightAuthor:M,disableLikes:!m,disableLikesClick:p||E||f&&w,disableReply:E||!!w||k,likesCount:P,likeOption:u(x),onLike:function(){return Y.apply(this,arguments)},onDislike:function(){if(f)return l(x,"-1");_()},showReplies:W,onClickReply:function(){q(!B)},onClickShowReplies:function(){H(!W)},numOfReplies:o,commentBody:C},c),B&&r.a.createElement(sa,{editorRef:L,persistKey:"replying-to-".concat(x,"-from-").concat(S),onSubmit:function(e){return z.apply(this,arguments)},onCommentSubmitted:function(){q(!1),H(!0)}}),W&&r.a.createElement("div",{className:pa.a.childrenContainer},n))},wa=function e(t){return t.comments.map(function(t){return r.a.createElement(Ea,{key:"comment-".concat(t.commentid),comment:t,numOfReplies:t.children&&t.children.length||0},r.a.createElement(e,{comments:t.children}))})},Oa=function e(t,n){return(t.filter(function(e){return+e.parentid===+n})||[]).map(function(n){return Object(k.a)({},n,{children:e(t,n.commentid)})})},ya=function(e){var t=e.comments,n=e.threadParentID,o=Object(a.useState)([]),c=Object(j.a)(o,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){if(n&&t.length){var e=t.find(function(e){return+e.commentid===+n});s([Object(k.a)({},e,{children:Oa(t,n)})])}else{var a=Oa(t,0);s(a)}},[t,n]),r.a.createElement(wa,{comments:i})},ja=function(){var e=Object(i.I)("(max-width: 560px)");return r.a.createElement(Fn.a,{height:100,width:e?400:600,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"10",rx:"3",ry:"3",width:e?"300":"100",height:"16"}),r.a.createElement("rect",{x:"0",y:"36",rx:"4",ry:"4",width:e?"400":"600",height:"12"}),r.a.createElement("rect",{x:"0",y:"52",rx:"4",ry:"4",width:e?"400":"600",height:"12"}),r.a.createElement("rect",{x:"0",y:"74",rx:"3",ry:"3",width:e?"120":"76",height:"16"}))},ka=n(221),_a=(n(1132),function(e){return ka.a.DropdownIndicator&&r.a.createElement(ka.a.DropdownIndicator,e,r.a.createElement("div",{className:Object(i.E)("arrowAnchor",e.selectProps.menuIsOpen&&"open")}))}),Ca=function(e){return r.a.createElement(ka.b,Object.assign({classNamePrefix:"customSelect",components:{DropdownIndicator:_a}},e))},Sa=n(291),xa=n(35),Pa=n(268),Na=n.n(Pa),Ta=3,Ra={SORT_BY_TOP:"Top",SORT_BY_OLD:"Old",SORT_BY_NEW:"New"},Aa=function(e){return{label:e,value:e}},La=function(e,t){return function(e){var t,n=(t={},Object(xa.a)(t,Ra.SORT_BY_NEW,Na()(["timestamp"],["desc"])),Object(xa.a)(t,Ra.SORT_BY_OLD,Na()(["timestamp"],["asc"])),Object(xa.a)(t,Ra.SORT_BY_TOP,Na()(["resultvotes","timestamp"],["desc","desc"])),t);return n[e]||n[Ra.SORT_BY_TOP]}(e)(t)},Ma=n(292),Ia=n(293),Da=function(e){var t=e.title,n=void 0===t?"Login":t,a=e.onLoggedIn,o=e.onClose,c=Object(b.a)(e,["title","onLoggedIn","onClose"]);return r.a.createElement(i.q,Object.assign({title:n,onClose:o,iconType:"info",iconSize:"lg"},c,{contentStyle:{width:"100%"},titleStyle:{paddingRight:"4rem"}}),r.a.createElement(z,{onLoggedIn:a,hideTitle:!0,redirectToPrivacyPolicyRoute:!0}))},Fa=n(1133),Ba=n.n(Fa),qa=function(e){var t=e.onLoginClick,n=e.onSignupClick;return r.a.createElement("div",{className:Ba.a.wrapper},r.a.createElement(i.A,{color:"gray"},"What are your thoughts? Log in or Sign up"),r.a.createElement("div",{className:Ba.a.buttonsWrapper},t&&r.a.createElement(i.b,{kind:"secondary",onClick:t},"Log in"),n&&r.a.createElement(i.b,{onClick:n},"Sign up")))},Ua=n(201),Va=n.n(Ua),Wa=n(1134),Ha=n.n(Wa),za={comments:[],sortOption:void 0},Ya={SORT:"sort",UPDATE:"update"},Ga=function(e,t){switch(t.type){case Ya.SORT:return Object(k.a)({},e,{comments:La(t.sortOption,e.comments),sortOption:t.sortOption});case Ya.UPDATE:if(t.sortOption!==e.sortOption)return Object(k.a)({},e,{sortOption:t.sortOption,comments:La(t.sortOption,t.comments)});if(t.comments.length>e.comments.length){var n=Ha()(t.comments,function(e){return+e.commentid});return Object(k.a)({},e,{comments:[n].concat(e.comments)})}return Object(k.a)({},e,{comments:e.comments.map(function(e){var n=t.comments.find(function(t){return t.commentid===e.commentid});return Va()(e,n)?e:n})});default:return e}},Ja=Object(d.a)(function(e){var t=e.numOfComments,n=e.recordToken,o=e.recordAuthorID,l=e.threadParentID,u=e.readOnly,m=e.readOnlyReason,d=e.className,p=e.history,f=Object(Ma.a)(),h=Object(j.a)(f,2)[1],g=Object(gt.a)(),v=g.isPaid,E=g.paywallEnabled,w=Object(a.useReducer)(Ga,za),O=Object(j.a)(w,2),y=O[0],_=O[1],S=Ae("sort",Ra.SORT_BY_TOP),x=Object(j.a)(S,2),P=x[0],N=x[1],T=function(e){var t=Object(s.b)(e,ua,ma),n=t.onFetchComments,r=t.onLikeComment,o=t.email,i=t.onFetchLikes,l=t.commentsLikes,u=t.onResetComments,m=Object(b.a)(t,["onFetchComments","onLikeComment","email","onFetchLikes","commentsLikes","onResetComments"]),d=Object(c.c)(),p=d.enableCommentVote,f=d.recordType,h=!!o,g=e&&e.recordToken,v=e&&e.numOfComments||0,E=!!g&&v>0;Object(a.useEffect)(function(){return g&&v>0&&n(g),function(){return u()}},[n,u,E,g,v]),Object(a.useEffect)(function(){E&&p&&h&&i(g)},[i,p,E,h,g]);var w=Object(a.useCallback)(function(e,t){r(o,g,e,t)},[g,o,r]),O=Object(a.useCallback)(function(e){var t=(l||[]).find(function(t){return t.commentid===e});return t?t.action:t?t.action:0},[l]);return Object(k.a)({onLikeComment:w,getCommentLikeOption:O,enableCommentVote:p,userLoggedIn:h,recordType:f},m)}({recordToken:n,numOfComments:t}),R=T.onSubmitComment,A=T.comments,L=T.onLikeComment,M=T.loading,I=T.recordType,D=Object(b.a)(T,["onSubmitComment","comments","onLikeComment","loading","recordType"]),F=Object(a.useState)(!1),B=Object(j.a)(F,2),q=B[0],U=B[1],V=function(){return U(!0)},W=function(){return U(!1)},H=E&&!v,z=!!l;var Y=Object($.a)("scrollToComments");return Object(a.useEffect)(function(){Y&&document.getElementById("commentArea").scrollIntoView()},[Y]),Object(a.useEffect)(function(){A&&A.length&&_({type:Ya.UPDATE,comments:A,sortOption:P})},[A,P]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{id:"commentArea",className:Object(i.E)(ea.a.commentAreaContainer,d)},r.a.createElement(ta.a,{fallback:r.a.createElement(qa,{onLoginClick:V,onSignupClick:function(){p.push("/user/signup")}})},r.a.createElement(Sa.a,null,u&&r.a.createElement(i.p,{kind:"blocked",title:"Comments are not allowed"},m),!v&&E&&r.a.createElement(i.p,{kind:"error"},"You must pay the paywall to submit comments."),!u&&!!h&&r.a.createElement(Ia.a,null)),!z&&!u&&r.a.createElement(sa,{persistKey:"commenting-on-".concat(n),onSubmit:function(e){return R({comment:e,token:n,parentID:0})},disableSubmit:!!h||H})),r.a.createElement("div",{className:ea.a.commentsHeader},!z&&r.a.createElement(i.i,{className:ea.a.commentsTitle},"Comments"," ",r.a.createElement("span",{className:ea.a.commentsCount},y.comments.length||t)),r.a.createElement("div",{className:ea.a.sortContainer},!!A&&!!A.length&&r.a.createElement(Ca,{isSearchable:!1,value:Aa(P),onChange:function(e){N(e.value),_({type:Ya.SORT,sortOption:e.value})},options:Object.keys(Ra).map(function(e){return Aa(Ra[e])})})),z&&r.a.createElement("div",{className:"justify-right"},r.a.createElement(i.A,{className:"margin-right-xs"},"Single comment thread. "),r.a.createElement(C.a,{to:"/".concat(I,"/").concat(n)}," View all."))),M?function(){for(var e=t<3?t:Ta,n=[],a=0;a<e;a++)n.push(r.a.createElement(ja,{key:"comment-loader-".concat(a)}));return n}():r.a.createElement("div",{className:"margin-top-m"},r.a.createElement(la.Provider,{value:Object(k.a)({onSubmitComment:R,onLikeComment:L,recordAuthorID:o,recordToken:n,threadParentID:l,recordType:I,readOnly:u,identityError:h,paywallMissing:H,openLoginModal:V},D)},r.a.createElement(ya,{threadParentID:l,comments:y.comments})))),r.a.createElement(Da,{show:q,onLoggedIn:W,onClose:W}))}),Ka=function(e){return Object(bn.j)(e)&&e.voteStatus.status!==Be.lb},Xa=function(e){return Object(bn.h)(e)?"This proposal has been abandoned. New comments and comment votes are not allowed.":e.voteStatus.status===Be.lb?"Voting has finished for this proposal. New comments and comment votes are not allowed.":""},Qa=Object(d.a)(function(e){var t=e.TopBanner,n=e.PageDetails,a=e.Sidebar,o=e.Main,c=e.match,i=Object(Zn.a)({match:c}),s=i.proposal,l=i.loading,u=i.threadParentID,m=s&&s.censorshiprecord&&s.censorshiprecord.token,d=s&&(Object(bn.j)(s)||Object(bn.h)(s));return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null,r.a.createElement(n,{title:"Proposal Details",headerClassName:"no-margin-top"})),r.a.createElement(a,null),r.a.createElement(o,{className:Qn.a.customMain},l||!s?r.a.createElement(Bn,{extended:!0}):r.a.createElement(jn,{proposal:s,extended:!0}),d&&r.a.createElement(Ja,{recordAuthorID:s.userid,recordToken:m,numOfComments:s.numcomments,threadParentID:u,readOnly:!Ka(s),readOnlyReason:Xa(s)})))}),Za=function(){return r.a.createElement(Ne.a,{topBannerHeight:90},function(e){return r.a.createElement(Qa,e)})},$a=function(){return r.a.createElement(E.a,null,r.a.createElement(i.h,null,"404 Page not found"))},er=Object(a.lazy)(function(){return n.e(7).then(n.bind(null,1270))}),tr=Object(a.lazy)(function(){return n.e(5).then(n.bind(null,1267))}),nr=Object(a.lazy)(function(){return n.e(6).then(n.bind(null,1271))}),ar=Object(a.lazy)(function(){return n.e(4).then(n.t.bind(null,1268,7))}),rr=function(e,t,n){var o=e[t]||$a;return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(o,n))},or=function(e){var t=e.recordType,n=e.constants;return function(e){var a,r=(a={},Object(xa.a)(a,n.RECORD_TYPE_INVOICE,tr),Object(xa.a)(a,n.RECORD_TYPE_PROPOSAL,er),a);return rr(r,t,e)}},cr=function(e){var t=e.recordType,n=e.constants;return function(e){var a,r=(a={},Object(xa.a)(a,n.RECORD_TYPE_INVOICE,ar),Object(xa.a)(a,n.RECORD_TYPE_PROPOSAL,nr),a);return rr(r,t,e)}},ir=Object(d.a)(function(e){var t=e.location,n=Object(c.c)(),a=n.recordType;return r.a.createElement(p.a,null,r.a.createElement(f.a,{key:t.key,classNames:"fade",timeout:300},r.a.createElement(u.a,{location:t},r.a.createElement(m.a,{path:"/",exact:!0,component:Gn}),r.a.createElement(v,{path:"/user/login",exact:!0,component:Y}),r.a.createElement(v,{path:"/user/signup",exact:!0,component:oe}),r.a.createElement(v,{path:"/user/request-reset-password",exact:!0,component:fe}),r.a.createElement(v,{path:"/user/reset-password",exact:!0,component:ge}),r.a.createElement(v,{path:"/user/resend-verification-email",exact:!0,component:je}),r.a.createElement(v,{path:"/user/privacy-policy",exact:!0,component:ke}),r.a.createElement(v,{path:"/user/verify-email",exact:!0,component:Pe}),r.a.createElement(m.a,{path:"/user/:userid",exact:!0,component:Cn}),r.a.createElement(m.a,{path:"/proposal/:token",exact:!0,component:Za}),r.a.createElement(g,{path:"/".concat(a,"s/user"),exact:!0,component:Jn}),r.a.createElement(m.a,{path:"/".concat(a,"/:token/comments/:commentid"),exact:!0,component:Za}),r.a.createElement(g,{path:"/".concat(a,"/:token/edit"),exact:!0,render:cr(n)}),r.a.createElement(g,{path:"/".concat(a,"s/new"),exact:!0,render:or(n)}),r.a.createElement(h,{path:"/".concat(a,"s/admin"),exact:!0,component:Kn}),r.a.createElement(m.a,{path:"*",component:$a}))))});var sr=n(446),lr=function(e){var t=e.children,n=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(l.c)().currentUser;return Object(a.useEffect)(function(){if(o){var e=o.sessionmaxage,t=o.lastlogintime,n=e<Date.now()/1e3-t;r(n)}}),{sessionExpired:n,setSessionExpired:r}}(),o=n.sessionExpired,c=n.setSessionExpired,i=Object(sr.a)().handleLogout,s=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Da,{onLoggedIn:s,onClose:function(){i(),s()},show:o,title:"Your session has expired. Please log in again"}),t)},ur=function(){return Object(i.J)(i.F),r.a.createElement(c.b,null,r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(o.a,null,r.a.createElement(lr,null,r.a.createElement(ir,null))))))};n.d(t,"default",function(){return ur})},1100:function(e,t,n){e.exports={customMain:"PublicProposals_customMain__3KzT3",pulse:"PublicProposals_pulse__3mnCW"}},1101:function(e,t,n){e.exports={customMain:"Detail_customMain__3wa5A"}},1102:function(e,t,n){e.exports={commentAreaContainer:"Comments_commentAreaContainer__8WXVJ",commentsHeader:"Comments_commentsHeader__1bBUQ",commentsTitle:"Comments_commentsTitle__SAits",commentsCount:"Comments_commentsCount__3IEN-",sortContainer:"Comments_sortContainer__2FeJJ",notAllowedMessageContent:"Comments_notAllowedMessageContent__oRH6w"}},1122:function(e,t,n){e.exports=n.p+"static/media/bold.b1c359e8.svg"},1123:function(e,t,n){e.exports=n.p+"static/media/italic.02972611.svg"},1124:function(e,t,n){e.exports=n.p+"static/media/link.3388fe3f.svg"},1125:function(e,t,n){e.exports=n.p+"static/media/quote.913c69d5.svg"},1126:function(e,t,n){e.exports=n.p+"static/media/code.61230e7f.svg"},1127:function(e,t,n){e.exports=n.p+"static/media/bulletList.769963b9.svg"},1128:function(e,t,n){e.exports=n.p+"static/media/numberedList.5347e522.svg"},1129:function(e,t,n){e.exports={attachButton:"MarkdownEditor_attachButton__bJC4c",container:"MarkdownEditor_container__2-lVW",previewContainer:"MarkdownEditor_previewContainer__1OJEg",nothingToPreview:"MarkdownEditor_nothingToPreview__13KMM"}},1130:function(e,t,n){},1131:function(e,t,n){e.exports={likeBtn:"Likes_likeBtn__2gpPb",likesResult:"Likes_likesResult__1Nf63"}},1132:function(e,t,n){},1133:function(e,t,n){e.exports={wrapper:"WhatAreYourThoughts_wrapper__iQVU1",buttonsWrapper:"WhatAreYourThoughts_buttonsWrapper__1DZs3"}},118:function(e,t,n){"use strict";var a=n(17),r=n(19),o=n(45),c=n(18),i=n(23),s=n(61),l={loggedInAsEmail:c.Zc,paywallAddress:c.ud,paywallAmount:c.vd,paywallTxNotBefore:c.wd,userPaywallStatus:c.Fb,userPaywallConfirmations:c.Eb,userPaywallTxid:c.Gb,userAlreadyPaid:c.Ab,verificationToken:c.qe,isTestnet:c.Rc},u={onResetAppPaywallInfo:r.mb};t.a=function(e){var t=Object(o.b)(e,l,u),n=Object(s.c)().enablePaywall;return Object(a.a)({},t,{isPaid:t.userPaywallStatus===i.U,paywallEnabled:n})}},120:function(e,t,n){"use strict";var a=n(24),r=n(20),o=n(0),c=n.n(o),i=n(886);t.a=function(e){var t=e.to,n=e.children,o=Object(a.a)(e,["to","children"]);return c.a.createElement(r.n,Object.assign({},o,{customComponent:function(e){return c.a.createElement(i.a,Object.assign({to:t},e))}}),n)}},121:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(45),c=n(18),i={policy:c.yd,loading:c.wc},s={onGetPolicy:r.Q};t.a=function(){var e=Object(o.b)({},i,s),t=e.onGetPolicy,n=e.policy,r=e.loading;return Object(a.useEffect)(function(){n||t()},[n,t]),{policy:n,loading:r}}},160:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return g});var a=n(286),r=n.n(a),o=n(23),c=n(34),i=function(e){var t=e.find(function(e){return"index.md"===e.name});return Object(c.o)(t)},s=function(e){return e&&e.voteStatus?e.voteStatus.totalvotes:0},l=function(e){return e.optionsresult.map(function(e){return{label:e.option.id,amount:e.votesreceived,color:"yes"===e.option.id?"#41BE53":"#ED6D47"}}).sort(function(e){return"yes"===e.label?-1:1})},u=function(e){return Math.trunc(e.numofeligiblevotes*e.quorumpercentage/100)},m=function(e){return e.status===o.db},d=function(e){return function(e){return e.status===o.eb||e.status===o.fb}(e)||m(e)&&function(e){return!!e&&!!e.voteStatus&&e.voteStatus.status===o.mb}(e)},p=function(e){return e.status===o.bb},f=function(e){return!!e&&!!e.voteStatus&&e.voteStatus.status===o.jb},b=function(e){if(m(e))switch(e.voteStatus.status){case o.mb:return{type:"blackTime",text:"Hasn't authorized yet"};case o.kb:return{type:"yellowTime",text:"Waiting for approval"};case o.jb:return{type:"bluePending",text:"Active"};case o.lb:return function(e){if(!e||!e.voteStatus||!m(e))return!1;var t=e.voteStatus,n=t.quorumpercentage,a=t.passpercentage,r=t.numofeligiblevotes,o=t.optionsresult,c=t.totalvotes;return c>=n*r/100&&o.find(function(e){return"yes"===e.option.id}).votesreceived>a*c/100}(e)?{type:"greenCheck",text:"Finished"}:{type:"grayNegative",text:"Finished"}}return p(e)?{type:"orangeNegativeCircled",text:"Abandoned"}:{type:"grayNegative",text:"missing"}},h=function(e,t){return m(e)?+e.voteStatus.endheight-t:null},g=function(e,t,n){if(!e||!m(e)||e.voteStatus.status!==o.jb)return"";var a=h(e,t),c=n?a*o.b:a*o.a,i=new Date(6e4*c+Date.now());return r()(i,{addSuffix:!0})}},220:function(e,t,n){"use strict";n(75),n(76);var a=n(0),r=n.n(a),o=n(20),c=function(e){var t=e.children,n=e.topMarginSize,a=e.justify,c=void 0===a?"left":a,i=e.noMargin,s=e.className;return!e.hide&&r.a.createElement("div",{className:Object(o.E)(!i&&"margin-top-".concat(n),"justify-".concat(c),s)},t)};c.defaultProps={topMarginSize:"m",justify:"left",hide:!1,noMargin:!1};var i=c;n.d(t,"a",function(){return i})},222:function(e,t,n){"use strict";var a=n(39),r=n.n(a),o=n(40),c=n(29),i=n(0),s=n.n(i),l=n(270),u=n.n(l),m=n(20),d=n(985),p=n.n(d),f=function(e){var t=e.children;return s.a.createElement(m.r,null,t)},b=function(e){var t=e.level,n=e.children,a=[m.h,m.i,m.j,m.k][t-1]||m.k;return s.a.createElement(a,{style:{marginBottom:"1.7rem"},className:p.a.markdownHeadings},n)},h=function(e){var t=e.href,n=e.children;return s.a.createElement(m.n,{href:t},n)},g=function(e){var t=e.contentName,a=Object(i.useState)(""),l=Object(c.a)(a,2),m=l[0],d=l[1];return Object(i.useEffect)(function(){function e(){return(e=Object(o.a)(r.a.mark(function e(){var a,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(986)("./".concat(t,".md"));case 3:return a=e.sent,e.next=6,fetch(a.default);case 6:return o=e.sent,e.next=9,o.text();case 9:c=e.sent,d(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Failed loading content:",t);case 16:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t]),s.a.createElement(u.a,{escapeHtml:!1,className:"static-md",source:m,renderers:{paragraph:f,heading:b,link:h}})};n.d(t,"a",function(){return g})},280:function(e,t,n){"use strict";var a=n(62),r=n(25),o=n.n(r),c=function(e){var t=e.children,n=e.fallback,r=Object(a.c)(),o=r.initDone,c=r.currentUser;return o&&c?t:n};c.propTypes={children:o.a.node,fallback:o.a.node},c.defaultProps={fallback:null},t.a=c},287:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(288),c=n.n(o),i=function(e){var t=e.items,n=e.initialLoad,a=e.isLoading,o=e.loadingPlaceholder,i=e.onFetchMore,s=e.hasMore,l=e.renderItem,u=e.pageStart;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{pageStart:u,loadMore:i,initialLoad:n,hasMore:s},t.map(l)),a&&o)};i.defaultProps={initialLoad:!0,loadingPlaceholder:r.a.createElement(function(){return r.a.createElement("div",{className:"loader",key:0},"Loading ...")},null),pageStart:0},t.a=i},291:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(25),c=function(e){var t=e.children;return r.a.Children.toArray(t).filter(function(e){return!!e})[0]||null};c.propType={children:n.n(o).a.node},t.a=c},292:function(e,t,n){"use strict";var a=n(39),r=n.n(a),o=n(17),c=n(40),i=n(29),s=n(0),l=n(62),u=n(78),m="Failed to load user identity. You need tor restore it from a backup or generate a new one.",d="User identity doesn't match with the server identity.";t.a=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],p=Object(s.useState)(null),f=Object(i.a)(p,2),b=f[0],h=f[1],g=Object(l.c)(),v=g.initDone,E=g.currentUser,w=v&&!!E,O=!!E&&E.email,y=!!E&&E.publickey;return Object(s.useEffect)(function(){function e(){return(e=Object(c.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.c(O);case 3:if(t=e.sent){e.next=6;break}throw new Error(m);case 6:if(n=t.publicKey===y,h(Object(o.a)({},t,{valid:n})),n){e.next=10;break}throw new Error(d);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}w&&function(){e.apply(this,arguments)}()},[w,O,y]),[b,n]}},293:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(0),r=n.n(a),o=n(20),c=n(120),i=n(62),s=function(){var e=Object(i.c)().currentUser;return e&&r.a.createElement(o.p,{kind:"error"},r.a.createElement(o.r,null,"Your identity is invalid. You cannot currently submit proposals or comments, please visit your"," ",r.a.createElement(c.a,{to:"/user/".concat(e.userid)},"account")," page to correct this problem."))}},333:function(e,t,n){"use strict";var a=n(29),r=n(20),o=n(0),c=n.n(o),i=n(1266),s=n(883),l=n.n(s),u=n(884),m=n.n(u),d=function(e){var t=e.toggleShowMenu,n=e.showMenu;return c.a.createElement("div",{className:m.a.navButton,onClick:t},c.a.createElement("span",{className:n?m.a.navIconClose:m.a.navIcon}))},p=n(1275),f=n(446),b=n(885),h=n.n(b),g=Object(p.a)(function(e){var t=e.history,n=Object(f.a)(),a=n.user,o=n.username,s=n.onLogout;return o?c.a.createElement("div",{className:h.a.loggedInContainer},c.a.createElement(r.f,{title:o},c.a.createElement(r.g,{onClick:function(){t.push("/user/".concat(a.userid))}},"Account"),c.a.createElement(r.g,{onClick:s},"Logout"))):c.a.createElement("nav",{className:h.a.navContainer},c.a.createElement(i.a,{className:h.a.navLink,activeClassName:h.a.activeNavLink,to:"/user/login"},c.a.createElement(r.A,{className:"".concat(h.a.navLinkText," ").concat(h.a.rightGreyBorder)},"Log in")),c.a.createElement(i.a,{className:h.a.navLink,activeClassName:h.a.activeNavLink,to:"/user/signup"},c.a.createElement(r.A,{className:h.a.navLinkText},"Sign up")))}),v=n(34),E=n(573),w=n(987),O=n.n(w),y=function(e){var t=e.show,n=e.fullScreen;return Object(v.u)(t),c.a.createElement("div",{className:Object(r.E)(n?O.a.navigationDrawerFullScreen:O.a.navigationDrawer,t&&O.a.navigationDrawerShow)},c.a.createElement("div",{className:Object(r.E)(O.a.navWrapper,"margin-bottom-s")},c.a.createElement(g,null)),c.a.createElement(E.a,null),c.a.createElement("div",{className:O.a.fillHeight}))},j=n(988),k=n.n(j);t.a=function(e){var t=e.noBorder,n=Object(r.I)("(max-width: 1000px)"),s=Object(r.I)("(max-width: 560px)"),u=Object(o.useState)(!1),m=Object(a.a)(u,2),p=m[0],f=m[1];return c.a.createElement(r.l,{className:Object(r.E)(t&&k.a.noBorder)},c.a.createElement(i.a,{to:"/",className:s&&p?k.a.hideLogo:k.a.showLogo},c.a.createElement("img",{src:l.a,alt:"presentation"})),n?c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{toggleShowMenu:function(){return f(!p)},showMenu:p}),c.a.createElement(y,{show:p,fullScreen:s})):c.a.createElement(g,null))}},334:function(e,t,n){"use strict";var a=n(35),r=n(20),o=n(0),c=n.n(o),i=n(23),s=n(17),l=n(24),u=n(19),m=n(45),d=n(18),p={isTestnet:d.Rc,isApiRequestingPayWithFaucet:d.vc,payWithFaucetTxId:d.sd,payWithFaucetError:d.rd},f={payWithFaucet:u.Pb,resetFaucet:u.Vb};var b,h=function(e){var t,n=e.address,a=e.amount,o=e.isPaid,i=function(e){var t=Object(m.b)(e,p,f),n=t.policy,a=Object(l.a)(t,["policy"]);return Object(s.a)({},a,{policy:n})}(),u=i.payWithFaucetError,d=i.payWithFaucet,b=i.payWithFaucetTxId,h=i.isApiRequestingPayWithFaucet;return i.isTestnet||o?c.a.createElement("div",{className:"paywall-faucet"},c.a.createElement(r.r,{className:"margin-top-m"},"This Politeia instance is running on Testnet, which means you can pay with the Decred faucet:"),b?null:c.a.createElement(r.b,{className:"margin-top-s",loading:h,onClick:function(){return d(n,a)}},"Pay with Faucet"),u?c.a.createElement(r.p,{type:"error",header:"Faucet error",body:u}):null,b?c.a.createElement(r.p,{kind:"info"},c.a.createElement("span",{style:{marginRight:"5px"}},"Sent transaction:"," "),c.a.createElement(r.n,{href:(t=b,"".concat("https://testnet.doschain.org/explorer/tx","/").concat(t)),target:"_blank",id:"transactionLink",truncate:!0,rel:"noopener noreferrer"},b)):null):null},g=n(447),v=n.n(g),E=function(e){var t=e.addr,n=v.a.imageSync("https://qr.doschain.com/?action=transfer&name=DOS&currency=DOS&address=".concat(t),{type:"svg"});return c.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})},w=n(907),O=n.n(w),y=(b={},Object(a.a)(b,i.V,c.a.createElement(r.w,{className:O.a.statusTag,type:"yellowTime",text:"Waiting for payment"})),Object(a.a)(b,i.T,c.a.createElement(r.w,{className:O.a.statusTag,type:"yellowTime",text:"Waiting for confirmations"})),Object(a.a)(b,i.U,c.a.createElement(r.w,{className:O.a.statusTag,type:"greenCheck",text:"Confirmed"})),b);t.a=function(e){var t=e.show,n=e.title,a=e.onClose,o=e.address,s=e.amount,l=e.status,u=l===i.U,m=Object(r.I)("(max-width: 560px)");return c.a.createElement(r.q,{show:t,title:n,onClose:a},m&&y[l],c.a.createElement(r.r,{className:O.a.paywallDescription},"To participate on proposals and to submit your own, Politeia requires you to pay a small registration fee of ",c.a.createElement(r.A,{weight:"bold"},"exactly ",s," DOS.")," This helps keep Politeia free of things like spam and comment manipulation."),c.a.createElement("div",{className:Object(r.E)(O.a.paywallInfo,"margin-top-l")},c.a.createElement("div",{className:O.a.qrcodeWrapper},c.a.createElement(E,{addr:o})),c.a.createElement("div",{className:Object(r.E)(O.a.infoWrapper,"margin-left-m")},c.a.createElement(r.k,{weight:"bold",className:"margin-bottom-xs"},"Send"),c.a.createElement(r.A,null,s," DOS"),c.a.createElement(r.k,{weight:"bold",className:"margin-top-s margin-bottom-xs"},"To address"),c.a.createElement(r.e,{truncate:!0},o),!m&&y[l])),c.a.createElement(h,{address:o,amount:s,isPaid:u}))}},335:function(e,t,n){"use strict";var a=n(24),r=n(0),o=n.n(r),c=n(25),i=n.n(c),s=n(270),l=n.n(s),u=n(29),m=n(17),d=n(474),p=n.n(d),f=n(475),b=n.n(f),h=n(20),g=function(e){var t=e.show,n=e.onClose,a=e.link,r=document.createElement("a");return r.href=a,o.a.createElement(h.q,{show:t,onClose:n,title:"Warning: Leaving Politeia"},o.a.createElement(h.p,{kind:"warning"},o.a.createElement(h.r,null," ","You are about to be sent to an external website. This can result in unintended consequences.",o.a.createElement("strong",null," DO NOT")," enter your Politeia credentials or reveal any other sensitive information.")),o.a.createElement("div",{className:"margin-top-s"},o.a.createElement(h.A,{className:"margin-top-s",weight:"bold"},"External link:"),o.a.createElement("div",{className:"margin-top-xs",style:{display:"inline-block",border:"1px solid #dcdcdc",padding:".5em",borderRadius:"6px",background:"#dcdcdc5c",width:"100%"}},o.a.createElement(h.A,null,r.protocol+"//"),o.a.createElement(h.A,{color:"orange"},r.hostname),o.a.createElement(h.A,null,r.pathname+r.search+r.hash))),o.a.createElement("div",{className:"margin-top-m justify-center"},o.a.createElement(h.A,{weight:"semibold"},"Are you sure you want to open this link?")),o.a.createElement("div",{className:"margin-top-m justify-right"},o.a.createElement(h.b,{className:"margin-top-s",onClick:function(){var e=window.open();e.opener=null,e.location.href=a,e.target="_blank",n()}},"Yes, proceed")))},v=b()({isValidNode:function(e){return"script"!==e.type}}),E=function(e){if("string"===typeof e)return e;var t=e.props;if(!t)return e;var n=Object(m.a)({},t);return n.src&&(n.src=p.a.uriInDoubleQuotedAttr(t.src)),Object(m.a)({},e,{props:n})},w=function(e){var t=document.createElement("a");return t.href=e,t.hostname&&t.hostname!==window.top.location.hostname},O=function(e){var t=e.url,n=e.children,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],s=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:t,onClick:function(e){w(t)&&(e.preventDefault(),s(!0))}},n),o.a.createElement(g,{show:i,onClose:function(){s(!1)},link:t}))},y=function(e){var t=e.src,n=e.alt;return o.a.createElement(O,{url:t},n)},j=function(e){var t=e.href,n=e.children;return o.a.createElement(O,{url:t},n)},k=function(e){return function(t){e&&(t=function e(t,n){var a=function(t){return o.a.Children.map(t,function(t){return e(t,n)})},r=null;if(t.children)r=Object(m.a)({},t,{children:a(t.children)});else if(t.props&&t.props.children){var c=a(t.props.children);r=Object(m.a)({},t,{props:Object(m.a)({},t.props,{children:c})})}return n(r||t)}(t,E));var n=t,r=n.children,c=Object(a.a)(n,["children"]);return o.a.createElement("div",c,r)}},_=function(e){var t=k(e);return{image:y,imageReference:y,link:j,linkReference:j,root:t}},C=(n(1079),function(e){var t=e.body,n=e.className,r=e.filterXss,c=void 0===r||r,i=e.escapeHtml,s=void 0===i||i,u=Object(a.a)(e,["body","className","filterXss","escapeHtml"]);return o.a.createElement("div",Object.assign({className:n},u),o.a.createElement(l.a,{className:"markdown-body",escapeHtml:s,astPlugins:[v],renderers:_(c),source:t}))});C.prototype={body:i.a.string,className:i.a.string,confirmWithModal:i.a.bool,filterXss:i.a.bool,displayExternalLikWarning:i.a.bool,escapeHtml:i.a.bool};var S=C;n.d(t,"a",function(){return S})},336:function(e,t,n){"use strict";var a=n(29),r=n(0),o=n.n(r),c=n(20),i=n(491),s=n.n(i),l=n(1122),u=n.n(l),m=n(1123),d=n.n(m),p=n(1124),f=n.n(p),b=n(1125),h=n.n(b),g=n(1126),v=n.n(g),E=n(1127),w=n.n(E),O=n(1128),y=n.n(O),j="ordered-list",k="unordered-list",_="italic",C="link",S="quote",x="code",P=[{command:"bold",tooltipText:"Add bold text",iconSrc:u.a},{command:_,tooltipText:"Add italic text",iconSrc:d.a},{command:C,tooltipText:"Insert a link",iconSrc:f.a},{command:S,tooltipText:"Insert a quote",iconSrc:h.a},{command:x,tooltipText:"Insert code",iconSrc:v.a},{command:k,tooltipText:"Add a bullet list",iconSrc:w.a},{command:j,tooltipText:"Add a numbered list",iconSrc:y.a}],N={name:"attach",keyCommand:"attach",execute:function(){return null}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[{commands:[i.commands.boldCommand,i.commands.italicCommand,i.commands.linkCommand,i.commands.quoteCommand,i.commands.codeCommand,i.commands.unorderedListCommand,i.commands.orderedListCommand]}];return e?t.concat([{commands:[N]}]):t},R=function(e){return function(t){if("attach"===t)return o.a.createElement(o.a.Fragment,null,e);var n=P.find(function(e){return e.command===t});return o.a.createElement("img",{alt:t,src:n.iconSrc})}},A=n(335),L=n(1129),M=n.n(L),I=(n(1130),"write"),D="preview",F=function(e){var t=e.onChange,n=e.value,i=e.placeholder,l=e.className,u=e.filesInput,m=e.textAreaRef,d=Object(r.useState)(I),p=Object(a.a)(d,2),f=p[0],b=p[1];return Object(r.useEffect)(function(){var e=document.getElementsByClassName("mde-text")[0];e&&(e.placeholder=i)},[f,i]),o.a.createElement("div",{className:Object(c.E)(M.a.container,l)},o.a.createElement(s.a,{selectedTab:f,onTabChange:function(){b(f===I?D:I)},textAreaProps:{ref:m},generateMarkdownPreview:function(e){return Promise.resolve(o.a.createElement(A.a,{className:Object(c.E)(M.a.previewContainer,!e&&M.a.nothingToPreview),body:e||"Nothing to preview"}))},getIcon:R(u),commands:T(!!u),onChange:t,value:n}))};F.defaultProps={placeholder:"Write here"};var B=F;n.d(t,"a",function(){return B})},445:function(e,t,n){e.exports={customMain:"layouts_customMain__3bT-f",singleContentMain:"layouts_singleContentMain__3E7NB layouts_customMain__3bT-f",customPageDetails:"layouts_customPageDetails__1Mc5f",subtitle:"layouts_subtitle__2kjky",customTabs:"layouts_customTabs__2q4Nn",pageDetailsHeader:"layouts_pageDetailsHeader__36kij",pageDetailsTitle:"layouts_pageDetailsTitle__2GMRO",pageDetailsActions:"layouts_pageDetailsActions__2dgUt",card:"layouts_card__3p4_y",narrow:"layouts_narrow__3gXvA",widen:"layouts_widen__187po",customTab:"layouts_customTab__3hbWL"}},446:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(19),r=n(45),o=n(18),c={username:o.ad,user:o.t},i={onLogout:a.X,handleLogout:a.e};function s(e){return Object(r.b)(e,c,i)}},45:function(e,t,n){"use strict";var a=n(331),r=n(0),o=n.n(r),c=n(21),i=n(17),s=n(29),l=n(33),u=n(18),m=o.a.createContext(),d=function(){return Object(r.useContext)(m)};function p(e,t,n){var a=d().store,o=Object(r.useState)(a.getState()),c=Object(s.a)(o,2),m=c[0],p=c[1],f=a.dispatch,b=Object(r.useMemo)(function(){return Object(u.Vd)(t)},[t]),h=Object(r.useMemo)(function(){return b(m,e)},[b,m,e]),g=Object(r.useMemo)(function(){return Object(l.b)(n,f)},[n,f]);return Object(r.useEffect)(function(){return a.subscribe(function(){return p(a.getState())})}),Object(r.useMemo)(function(){return Object(i.a)({},h,g)},[h,g])}var f=Object(a.a)(),b=function(e){var t=e.children;return o.a.createElement(c.a,{context:m,store:f},t)};n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p});var h=b;a.a},460:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(a.useLayoutEffect)(function(){e||window.scrollTo(0,0)},[e])}},486:function(e,t,n){e.exports={row:"Proposal_row__mpbBt",timeLeft:"Proposal_timeLeft__3JrAy",version:"Proposal_version__1L-64",markdownContainer:"Proposal_markdownContainer__iggNQ",voteCount:"Proposal_voteCount__P-Q8k",voteCountSearch:"Proposal_voteCountSearch__3Zhf7",lastRow:"Proposal_lastRow__Iti66",copyLink:"Proposal_copyLink__2C-9G",downloadCommentsLink:"Proposal_downloadCommentsLink__3vJy9",proposalActions:"Proposal_proposalActions__15db7",statusTag:"Proposal_statusTag__3TIyP",downloadLinksWrapper:"Proposal_downloadLinksWrapper__2fDwu"}},489:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(29),r=n(0),o=n(41),c=n.n(o),i=n(38),s=n.n(i),l=n(201),u=n.n(l),m=n(36),d=n(18),p=n(19),f=n(45),b={token:s()(c()(["match","params","token"]),Object(m.b)(1)),editedProposal:d.j,commentID:s()(c()(["match","params","commentid"]),Object(m.b)(1)),publicProposals:d.Od,unvettedProposals:d.J,proposalDetail:d.Nd,error:d.Gd,loading:Object(m.f)(d.Hd,d.yc)},h={onFetchUser:p.K,onFetchProposal:p.z,onFetchProposalVoteStatus:p.F},g=function(e,t){return e&&e.censorshiprecord&&e.censorshiprecord.token===t};function v(e){var t=Object(f.b)(e,b,h),n=t.error,o=t.onFetchProposal,c=t.token,i=t.proposalDetail,s=t.editedProposal,l=t.publicProposals,m=t.unvettedProposals,d=t.loading,p=t.onFetchProposalVoteStatus,v=t.commentID,E=Object(r.useState)(function(){if(g(s,c))return s;if(g(i,c))return i;var e=l.find(function(e){return g(e,c)});if(e)return e;var t=m.find(function(e){return g(e,c)});return t||null}()),w=Object(a.a)(E,2),O=w[0],y=w[1];if(Object(r.useEffect)(function(){O||(o(c),p(c))},[O,c,o,p]),Object(r.useEffect)(function(){i&&g(i,c)&&!u()(i,O)&&y(i)},[c,i,O]),n)throw n;return{proposal:O,loading:d,threadParentID:v}}},498:function(e,t,n){e.exports={commentWrapper:"Comment_commentWrapper__BQ6H2",reply:"Comment_reply__15f8G",timeAgo:"Comment_timeAgo__3gRzF",withLeftPadding:"Comment_withLeftPadding__2AB7t",childrenContainer:"Comment_childrenContainer__2ueeD",showReplies:"Comment_showReplies__2CduP",commentAuthor:"Comment_commentAuthor__OiN-w",recordAuthor:"Comment_recordAuthor__2_qSN",permalinkTooltip:"Comment_permalinkTooltip__2bep7",copyLinkIcon:"Comment_copyLinkIcon__2Ajzb"}},573:function(e,t,n){"use strict";var a=n(20),r=n(0),o=n.n(r),c=n(61),i=n(29),s=n(118),l=n(334),u=n(222),m=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],m=t[1],d=Object(c.c)().paywallContent,p=Object(s.a)(),f=p.userPaywallStatus,b=p.paywallAmount,h=p.paywallAddress,g=p.paywallEnabled&&f<2&&b>0;return o.a.createElement(o.a.Fragment,null,g?o.a.createElement(o.a.Fragment,null,o.a.createElement(a.c,{className:"margin-bottom-s",paddingSize:"small",marker:!0},o.a.createElement(u.a,{contentName:d}),o.a.createElement(a.b,{onClick:function(e){e.preventDefault(),m(!0)},className:"margin-top-m"},"Pay the registration fee"))):null,o.a.createElement(l.a,{show:n,title:"Complete your registration",address:h,amount:b,onClose:function(){return m(!1)},status:f}))},d=function(e){var t=e.wrapper,n=Object(c.c)().aboutContent;return Object(r.useMemo)(function(){return o.a.createElement(t,null,o.a.createElement(m,null),o.a.createElement(a.c,{paddingSize:"small"},o.a.createElement(u.a,{contentName:n})))},[n])};d.defaultProps={wrapper:o.a.Fragment};t.a=d},601:function(e,t,n){},62:function(e,t,n){"use strict";var a=n(39),r=n.n(a),o=n(40),c=n(29),i=n(0),s=n.n(i),l=n(18),u=n(19),m=n(45),d={userPubkey:l.oe,loggedInAsEmail:l.Zc,keyMismatch:l.nb,apiError:l.l,user:l.t,loggedInAsUserId:l.pe,userCanExecuteActions:l.je,lastLoginTime:l.Xc,onboardViewed:l.qd,identityImportSuccess:l.Qb,isCMS:l.Mc,apiInfo:l.n},p={onRequestApiInfo:u.Rb,keyMismatchAction:u.f,openModal:u.Ob,onRequestCurrentUser:u.cb,confirmWithModal:u.c,setOnboardAsViewed:u.Yb,onLoadDraftProposals:u.V};function f(e){return Object(m.b)(e,d,p)}var b=Object(i.createContext)(),h=function(){return Object(i.useContext)(b)},g=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(c.a)(n,2),l=a[0],u=a[1],m=Object(i.useState)(null),d=Object(c.a)(m,2),p=d[0],h=d[1],g=Object(i.useState)(null),v=Object(c.a)(g,2),E=v[0],w=v[1],O=f(),y=O.onRequestApiInfo,j=O.onRequestCurrentUser,k=O.user;return Object(i.useEffect)(function(){function e(){return(e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(!1);case 3:if(t=e.sent,w(t),!t.activeusersession){e.next=8;break}return e.next=8,j();case 8:u(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[y,j]),s.a.createElement(b.Provider,{value:Object(i.useMemo)(function(){return{initDone:l,error:p,currentUser:k,apiInfo:E}},[l,p,E,k])},l&&t)};n.d(t,"a",function(){return g}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h})},75:function(e,t,n){"use strict";var a=n(24),r=n(20),o=n(0),c=n.n(o),i=n(204),s=n(1275),l=n(23),u=n(118),m=n(280),d=n(1035),p=n.n(d),f=Object(s.a)(function(e){var t=e.history,n=e.location,a="/proposals/new"===n.pathname,o=Object(u.a)().userPaywallStatus===l.U;return!a&&c.a.createElement(m.a,null,c.a.createElement(r.b,{type:"button",kind:o?"primary":"disabled",className:p.a.newProposalButton,onClick:function(){return t.push("/proposals/new")}},c.a.createElement("span",{className:p.a.newProposalButtonContent})))}),b=n(333),h=n(460),g=n(573),v=function(){return c.a.createElement(g.a,{wrapper:r.t})},E=n(445),w=n.n(E),O=function(e){return c.a.createElement(S,{className:w.a.singleContentMain},c.a.createElement(r.p,{kind:"error"},e.toString()))},y=function(e){return c.a.createElement(r.h,e)},j=function(e){return c.a.createElement("span",Object.assign({className:w.a.subtitle},e),e.children)},k=function(e){var t=e.className,n=e.title,o=e.subtitle,i=e.actionsContent,s=e.children,l=e.headerClassName,u=Object(a.a)(e,["className","title","subtitle","actionsContent","children","headerClassName"]),m="string"===typeof n?c.a.createElement(r.h,{id:"page-title",truncate:!0,linesBeforeTruncate:2,className:w.a.pageDetailsTitle},n):n;return c.a.createElement(r.s,Object.assign({className:Object(r.E)(w.a.customPageDetails,t)},u),c.a.createElement("div",{className:Object(r.E)(w.a.pageDetailsHeader,l)},m,c.a.createElement("div",{className:w.a.pageDetailsActions},i)),!!o&&c.a.createElement(j,null,o),s)},_=function(e){var t=e.className,n=Object(a.a)(e,["className"]);return c.a.createElement(r.x,Object.assign({className:Object(r.E)(w.a.customTab,t)},n))},C=function(e){var t=e.className,n=Object(a.a)(e,["className"]);return c.a.createElement(r.z,Object.assign({className:Object(r.E)(w.a.customTabs,t)},n))},S=function(e){var t=e.className,n=Object(a.a)(e,["className"]);return c.a.createElement(r.o,Object.assign({className:Object(r.E)(w.a.customMain,t)},n))},x=function(e){var t=e.children,n=e.disableScrollToTop,o=Object(a.a)(e,["children","disableScrollToTop"]);return Object(h.a)(n),c.a.createElement(r.d,o,c.a.createElement(b.a,{noBorder:!0}),c.a.createElement(i.a,{errorRenderer:O},t({Sidebar:v,TopBanner:r.D,Main:S,Subtitle:j,PageDetails:k,Title:y,Tabs:C,Tab:_})))};k.defaultProps={actionsContent:c.a.createElement(f,null)},x.defaultProps={disableScrollToTop:!1};var P=x;n.d(t,"a",function(){return P})},76:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(20),c=n(445),i=n.n(c),s=n(204),l=n(333),u=n(460),m=function(e){return r.a.createElement(o.p,{kind:"error"},e.toString())},d=function(e){var t=e.children,n=e.contentWidth,a=e.disableScrollToTop;return Object(u.a)(a),r.a.createElement(o.d,{className:i.a.customContainer},r.a.createElement(l.a,{noBorder:!0}),r.a.createElement(o.o,{fill:!0,className:Object(o.E)(i.a.singleContentMain,i.a[n])},r.a.createElement(s.a,{errorRenderer:m},r.a.createElement(o.c,{className:i.a.card},t))))};d.defaultProps={contentWidth:"narrow",disableScrollToTop:!1};var p=d;n.d(t,"a",function(){return p})},883:function(e,t,n){e.exports=n.p+"static/media/dcc-logo-light.39607ac9.png"},884:function(e,t,n){e.exports={navButton:"HamburgerMenu_navButton__1GBYt",navIcon:"HamburgerMenu_navIcon__1ewon",navIconClose:"HamburgerMenu_navIconClose__29zOP HamburgerMenu_navIcon__1ewon"}},885:function(e,t,n){e.exports={navContainer:"HeaderNav_navContainer__GJkEd",loggedInContainer:"HeaderNav_loggedInContainer__A7QKj",navLink:"HeaderNav_navLink__ruI7Z HeaderNav_navContainer__GJkEd",navLinkText:"HeaderNav_navLinkText__2eyc3",rightGreyBorder:"HeaderNav_rightGreyBorder__2lU7I",activeNavLink:"HeaderNav_activeNavLink__2m1dC"}},907:function(e,t,n){e.exports={paywallInfo:"ModalPayPaywall_paywallInfo__2vZJS",qrcodeWrapper:"ModalPayPaywall_qrcodeWrapper__Jw1lg",infoWrapper:"ModalPayPaywall_infoWrapper__vEbik",statusTag:"ModalPayPaywall_statusTag__1toTk",paywallDescription:"ModalPayPaywall_paywallDescription__2PheF"}},985:function(e,t,n){e.exports={markdownHeadings:"StaticMarkdown_markdownHeadings__3Dgdr"}},986:function(e,t,n){var a={"./about-politeia.md":[1259,16],"./paywall-politeia.md":[1260,17],"./privacy-policy-cms.md":[1261,18],"./privacy-policy.md":[1262,19]};function r(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,7)})}r.keys=function(){return Object.keys(a)},r.id=986,e.exports=r},987:function(e,t,n){e.exports={navigationDrawer:"NavigationDrawer_navigationDrawer__3qaOx",navigationDrawerFullScreen:"NavigationDrawer_navigationDrawerFullScreen__13OWA NavigationDrawer_navigationDrawer__3qaOx",navigationDrawerShow:"NavigationDrawer_navigationDrawerShow__seJI1 NavigationDrawer_navigationDrawer__3qaOx",navWrapper:"NavigationDrawer_navWrapper__1pSXn",fillHeight:"NavigationDrawer_fillHeight__QWmLu"}},988:function(e,t,n){e.exports={noBorder:"Header_noBorder__2M57E",showLogo:"Header_showLogo__2bj9a",hideLogo:"Header_hideLogo__QDhue Header_showLogo__2bj9a",customHeader:"Header_customHeader__WHHYF"}},995:function(e,t,n){e.exports={title:"FormWrapper_title__3FUVx",form:"FormWrapper_form__1oHlq",actions:"FormWrapper_actions__KAHxd",errorMessage:"FormWrapper_errorMessage__23hwJ",singleAction:"FormWrapper_singleAction__21OXe FormWrapper_actions__KAHxd",footer:"FormWrapper_footer__2Ik6s",loader:"FormWrapper_loader__1mxj4"}}}]);
//# sourceMappingURL=Appv2.45d88c6c.chunk.js.map