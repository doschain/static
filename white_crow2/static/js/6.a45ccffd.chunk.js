(this.webpackJsonputxo=this.webpackJsonputxo||[]).push([[6],{225:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return s}));var a="http://proxy-mainnet.doschain.org/insight";"games.doschain.org"!==window.location.host&&(a="http://35.220.198.141:8087");var c=function(e){return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/user/").concat(e)})},r=function(e,t){return window.demos.request({method:"POST",url:"".concat(a,"/v1/api/user/").concat(e,"/bind"),data:{code:t}})},o=function(e,t){return window.demos.request({method:"POST",url:"".concat(a,"/v1/api/user/").concat(e,"/active"),data:{rawtx:t}})},i=function(e){var t=e.addr,n=e.type,c=void 0===n?0:n;return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/matrix/").concat(t,"/").concat(c)})},u=function(e){var t=e.id,n=e.addr,c=e.type,r=e.rawtx;return window.demos.request({method:"POST",url:"".concat(a,"/v1/api/matrix/").concat(n,"/").concat(c,"/").concat(t,"/pay"),data:{rawtx:r}})},l=function(e){var t=e.addr,n=e.type,c=e.id;return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/matrix/").concat(t,"/").concat(n,"/").concat(c)})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return window.demos.request({method:"GET",url:"".concat(a,"/v1/api/matrix/").concat(e,"/").concat(t,"/").concat(n,"/orders?page=").concat(c,"&limit=").concat(r)})}},235:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(15),o=n(12),i=n(0),u=n.n(i),l=(n(235),n(56)),s=n(18),d=n(225),m=n(236),f=n.n(m),p=null;t.default=Object(l.h)()((function(e){var t=e.address,n=e.t,a=e.history,m=s.d.getQuery("invite")||"",h=Object(i.useState)(""),v=Object(o.a)(h,2),b=v[0],E=v[1],w=Object(i.useState)(null),O=Object(o.a)(w,2),j=O[0],x=O[1],g=Object(i.useState)(null),y=Object(o.a)(g,2),_=y[0],k=y[1],S=Object(i.useState)(!1),C=Object(o.a)(S,2),N=C[0],q=C[1],T=Object(i.useState)(!1),D=Object(o.a)(T,2),G=D[0],I=D[1],J=Object(i.useState)(!1),P=Object(o.a)(J,2),R=P[0],B=P[1],Q=Object(i.useState)(!1),X=Object(o.a)(Q,2),F=X[0],H=X[1],L=Object(i.useState)(m),U=Object(o.a)(L,2),W=U[0],z=U[1],A=Object(i.useState)(""),K=Object(o.a)(A,2),M=K[0],V=K[1];function Y(e){var t=window.location;return"".concat(t.origin).concat(t.pathname,"?orientation=portrait&invite=").concat(e)}function Z(){q(!1)}function $(){var e=document.getElementById("home-banner"),t=document.body.clientWidth,n=e.clientHeight-t/750*705;x(n+"px")}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.toDataURL(Y(t),{width:350,margin:0});case 3:n=e.sent,E(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ne(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&H(!0),Object(d.g)(t).then(function(){var n=Object(r.a)(c.a.mark((function n(a){var r,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&H(!1),200!==a.code){n.next=11;break}return k(a.data),r=a.data.user,o=a.data.state,r.hash&&0===r.state?(V(r.hash),ae(r.hash),B(!0)):B(!1),1===r.state&&(window.sessionStorage["white_crow_".concat(t)]=JSON.stringify({price:o.price,address:o.address,qoute:o.qoute})),n.next=9,ee(r.code);case 9:n.next=12;break;case 11:1001===a.code?I(!0):Object(s.e)(a.code);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(function(t){console.warn(t),e&&H(!1)}))}function ae(e){if(e)try{var t=function(){var n=Object(r.a)(c.a.mark((function n(){var a,r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.demos.dosdata.expand.transaction(e);case 2:a=n.sent,(r=a.confirmations)&&r>=1?(V(""),ne(!1)):(clearTimeout(p),p=setTimeout(t,2e3));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();clearTimeout(p),p=setTimeout(t,2e3)}catch(n){console.error(n)}}function ce(){return(ce=Object(r.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=2*_.state.price,H(!0),e.prev=2,e.next=5,window.demos.balance("dos");case 5:r=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(H(!1),r&&!(1e8*r<a)){e.next=14;break}return Object(s.e)(1010),e.abrupt("return");case 14:return e.next=16,window.demos.contractRaw("send",_.state.qoute,[{type:"address",value:_.state.address},{type:"uint256",value:a}]).catch((function(e){Object(s.f)(e.toString())}));case 16:if(o=e.sent){e.next=20;break}return Object(s.f)(n("active_failed")),e.abrupt("return");case 20:return H(!0),e.next=23,Object(d.a)(t,o).then((function(e){H(!1),200===e.code?(Object(s.f)(n("active_success")),V(e.data),ae(e.data),B(!0)):Object(s.e)(e.code)}),(function(){H(!1),Object(s.f)(n("active_failed"))}));case 23:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){setTimeout($),t&&ne()}),[t]),u.a.createElement("div",{className:"p-home"},u.a.createElement(l.d,null),u.a.createElement("div",{className:"home-wrapper"},null!==j&&u.a.createElement("div",{className:"home-banner-polyfill",style:{top:j}}),u.a.createElement("div",{className:"home-banner",id:"home-banner"},u.a.createElement("p",null,n("white_crow"))),_&&u.a.createElement(l.a,null,u.a.createElement("ul",{className:"home-info clearFloat"},u.a.createElement("li",null,u.a.createElement("strong",null,_.state.num),u.a.createElement("p",null,n("home_info1"))),u.a.createElement("li",null,u.a.createElement("strong",null,"+",_.state.num24h),u.a.createElement("p",null,n("home_info2"))),u.a.createElement("li",null,u.a.createElement("strong",null,_.state.value/1e8),u.a.createElement("p",null,n("home_info3"))),u.a.createElement("li",null,u.a.createElement("strong",null,_.state.value24h/1e8),u.a.createElement("p",null,n("home_info4")))),u.a.createElement("div",{className:"home-info2"},u.a.createElement("div",null,u.a.createElement("p",null,_.user.value/1e8||"0.00"," DOS"),u.a.createElement("p",null,_.user.value_miss/1e8||"0.00"," DOS")),u.a.createElement("div",null,u.a.createElement("div",null,"ID ",_.user.id),u.a.createElement("div",null,_.user.num)),u.a.createElement("div",null,u.a.createElement("strong",null,"X3"),u.a.createElement("span",null,_.user.value3x/1e8||"0.00"," DOS")),u.a.createElement("div",null,u.a.createElement("strong",null,"X4"),u.a.createElement("span",null,_.user.value4x/1e8||"0.00"," DOS")))),_&&u.a.createElement("div",{className:"home-bottom"},u.a.createElement("button",{onClick:function(){q(!0)}},n("share")),u.a.createElement("div",null),0===_.user.state?u.a.createElement("button",{onClick:M?function(){B(!0)}:function(){return ce.apply(this,arguments)}},n("active")):1===_.user.state?u.a.createElement("button",{onClick:function(){a.push("/matrix")}},n("buy")):u.a.createElement("button",{disabled:!0},n("user_disabled")))),_&&u.a.createElement(l.f,{visible:N,onCancel:Z,className:"home-qrCode-modal"},u.a.createElement("p",{className:"p1"},n("affiliate_link")),u.a.createElement("div",{className:"home-qrCode"},b&&u.a.createElement("img",{src:b,alt:"",width:"350",height:"350"})),u.a.createElement("p",{className:"p2"},Y(_.user.code)),u.a.createElement("button",{onClick:function(){try{document.getElementById("address-container").select(),document.execCommand("Copy"),Object(s.f)(n("copy_success")),Z()}catch(e){Object(s.f)(n("copy_failed"))}}},n("copy_share")),u.a.createElement("input",{type:"text",value:Y(_.user.code),readOnly:!0,id:"address-container",style:{border:0,padding:0,position:"fixed",left:"-100%"},onChange:function(){}})),u.a.createElement(l.f,{visible:G,showClose:!1,className:"home-recommend-modal"},u.a.createElement("p",{className:"p1"},n("recommended_id")),u.a.createElement("div",{className:"home-input"},u.a.createElement("input",{type:"text",placeholder:n("recommended_hint"),value:W,onChange:function(e){var t=e.target.value;t.includes("invite=")&&(t=t.match(/invite=(\w+)/)[1]),z(t)}}),u.a.createElement("div",{onClick:function(){window.demos.scanQRCode().then((function(e){var t=e;e.includes("invite=")&&(t=e.match(/invite=(\w+)/)[1]),z(t)}))}})),u.a.createElement("button",{onClick:function(){if(t){var e=W.trim();e?(H(!0),Object(d.b)(t,e).then((function(e){H(!1),200===e.code?(Object(s.f)(n("bind_success")),I(!1),ne()):Object(s.e)(e.code,n)}),(function(e){Object(s.f)(n("bind_failed")),H(!1)}))):Object(s.f)(n("recommended_help"))}}},n("submit"))),u.a.createElement(l.b,{hash:M,visible:R,onCancel:function(){B(!1)}}),F&&u.a.createElement(l.e,null))}))}}]);