(this.webpackJsonprecharge=this.webpackJsonprecharge||[]).push([[4],{115:function(e,t,a){"use strict";a.r(t);a(10),a(13);var n=a(11),c=a(0),r=a.n(c),l=a(22),s=(a(84),a(2)),i=a(16),m=a(18),o=a.n(m),u=a(85);t.default=Object(l.g)()((function(e){var t=e.address,a=e.balance,m=e.btcLight,p=e.genesis,d=e.status,v=e.stop,f=e.surplus,b=e.PMR,g=e.level,E=e.levelApply,N=e.rechargePrice,O=e.getIdentity,h=e.code||s.e.getQuery("invite")||"",j=Object(c.useState)(""),y=Object(n.a)(j,2),C=y[0],w=y[1],x=Object(c.useState)(h),S=Object(n.a)(x,2),k=S[0],B=S[1],J=Object(c.useState)(!1),T=Object(n.a)(J,2),P=T[0],D=T[1];function M(e){return new o.a(e).times(new o.a(1e-8)).toFixed(18).replace(/0*$/g,"")}return r.a.createElement("div",{className:"p-home"},r.a.createElement(l.a,{className:"list-item"},r.a.createElement("p",{className:"p1"},"\u5269\u4f59DOS: ",r.a.createElement("i",null,M(f))),r.a.createElement("p",{className:"p1"},"BTC\u4f59\u989d: ",r.a.createElement("i",null,M(a))),r.a.createElement("p",{className:"p2"},"\u521b\u4e16\u8d26\u6237\u5730\u5740: ",r.a.createElement("i",null,p||"--")),r.a.createElement("div",{className:"bottom"},r.a.createElement("button",{className:"c-btn",onClick:function(){if(p)try{document.getElementById("genesis-container").select(),document.execCommand("Copy"),Object(s.f)("\u590d\u5236\u6210\u529f")}catch(e){Object(s.f)("\u590d\u5236\u5931\u8d25")}}},"\u590d\u5236\u5730\u5740")),r.a.createElement("input",{type:"text",value:p,id:"genesis-container",readOnly:!0,style:{border:0,padding:0,position:"fixed",left:"-100%"},onChange:function(){}})),r.a.createElement("img",{src:"".concat(s.d.imgSrc,"/metcalfe.png"),alt:"btc",className:"metcalfe"}),r.a.createElement("div",{className:"pmr"},"PMR=",b),r.a.createElement("div",{className:"triangle"},r.a.createElement("div",null,r.a.createElement("i",null,"\u5f53\u524d",g,"\u5c42"))),0===d?r.a.createElement("div",{className:"status"},"\u72b6\u6001:\u6b63\u5e38"):r.a.createElement("div",{className:"status status-stop"},"\u72b6\u6001:\u505c\u76d8"),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u5f53\u524d\u5151\u6362\u4ef7\u683c: "),r.a.createElement("p",null,N," BTC")),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u8ddd\u79bb\u505c\u76d8: "),r.a.createElement("p",null,v/1e8," DOS")),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u53ef\u5151\u6362: "),r.a.createElement("p",null,function(){var e="--",t=C.trim()?Number(C):-1;if(Number(g)>=0&&t>=0){t*=1e8;var a=1e-8*function(){for(var e=0,a=E,n=g;;n++){var c=n;n>10246&&(c=10246);var r=4*(c+1)*1e8;if(0!==a){if(a>r){a-=r;continue}r-=a}var l=1e-5+1e-7*c,s=l*r;if(t<s){var i=t/l;return e+=Math.floor(i)}t-=s,e+=r}}();e="\u7ea6".concat(a," DOS")}return e}())),r.a.createElement("div",{className:"content"},r.a.createElement(l.c,{type:"text",placeholder:"\u82b1\u8d39BTC\u6570\u91cf",value:C,onChange:function(e){var t="string"===typeof e?e:e.target.value;w(t)},id:"p-home-1"}),h?r.a.createElement(l.a,{className:"invite"},"\u63a8\u8350\u5730\u5740: ",h):r.a.createElement("div",{className:"input"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement(l.c,{type:"text",placeholder:"\u63a8\u8350\u5730\u5740",onChange:function(e){B("string"===typeof e?e:e.target.value.trim())},value:k,id:"p-home-input"}))),P&&r.a.createElement(l.e,null),r.a.createElement("button",{className:"c-btn",onClick:function(){if(1!==d){var e=Number(C),n=e>0?e+"":"";w(n),""!==n?1e8*n>a?Object(s.f)("\u4f59\u989d\u4e0d\u8db3"):function(e){var a=new o.a(e),n=new o.a(1e8),c=a.times(n).toString();window.demos.contract("pay",m,[{type:"uint256",value:c-0},{type:"string",value:"[3]"}]).then((function(e){D(!0),Object(i.f)({address:t,addr:k,rawtx:e}).then((function(e){var a=e.data;D(!1),a.ret?(Object(s.f)("\u5151\u6362\u6210\u529f"),w(""),O(t)):Object(s.f)(a.data)}),(function(e){D(!1),Object(s.f)(JSON.stringify(e),3e4)}))}),(function(e){Object(s.f)(JSON.stringify(e),3e4)}))}(n):Object(s.f)("\u8bf7\u586b\u5199\u82b1\u8d39BTC\u6570\u91cf")}else Object(s.f)("\u5df2\u505c\u76d8")},disabled:P},"\u5151\u6362")),r.a.createElement("div",{className:"package-json"},"version: ",u.version))}))},84:function(e,t,a){},85:function(e){e.exports=JSON.parse('{"name":"recharge","version":"1.0.3","private":true,"dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","axios":"^0.19.2","bignumber.js":"^9.0.0","node-sass":"^4.13.1","qrcode":"^1.4.4","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"3.3.1","serve":"^11.3.0"},"scripts":{"start":"PORT=80 react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","serve":"serve build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"homepage":"/recharge"}')}}]);
//# sourceMappingURL=4.6e45caf3.chunk.js.map