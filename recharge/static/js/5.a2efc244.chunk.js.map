{"version":3,"sources":["pages/Pool/index.js"],"names":["connect","address","useState","list","setList","loading","setLoading","showNotice","setNotice","useEffect","getFundsPool","then","data","ret","className","map","index","name","type","addr","amount","unit","key","onClick","document","querySelectorAll","select","execCommand","toast","e","copyAddress","value","readOnly","style","border","padding","position","left","onChange","visible","onOk"],"mappings":"6LAwFeA,yBAlFf,YAA0B,IAAXC,EAAU,EAAVA,QAAU,EACGC,mBAAS,IADZ,mBACdC,EADc,KACRC,EADQ,OAESF,oBAAS,GAFlB,mBAEdG,EAFc,KAELC,EAFK,OAGWJ,oBAAS,GAHpB,mBAGdK,EAHc,KAGFC,EAHE,KA6BrB,OAxBAC,qBAAU,WACDR,IACLK,GAAW,GACXI,YAAaT,GAASU,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACrBA,EAAKC,KACLT,EAAQQ,EAAKA,MAEjBN,GAAW,MACZ,WACCA,GAAW,SAEhB,CAACL,IAcA,yBAAKa,UAAU,UACVT,GAAW,kBAAC,IAAD,MACXF,EAAKY,KAAI,WAA6BC,GAAW,IAC1CC,EADIC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,KAE5B,OAAQH,GACJ,KAAK,EACDD,EAAO,uCACP,MACJ,KAAK,EACDA,EAAO,uCACP,MACJ,KAAK,EACDA,EAAO,qBACP,MACJ,KAAK,EACDA,EAAO,eACP,MACJ,QACIA,EAAI,eAAWC,GAEvB,OACI,kBAAC,IAAD,CAAMI,IAAKN,EAAOF,UAAU,aACxB,uBAAGA,UAAU,MAAMG,EAAnB,KAA0B,2BAAIG,EAAO,IAAX,IAAiBC,IAC3C,uBAAGP,UAAU,MAAb,6BAAyBK,GACzB,yBAAKL,UAAU,UACX,4BAAQA,UAAU,QAAQS,QAAS,YArCvC,SAACP,GACjB,IACkBQ,SAASC,iBAAiB,sBAAsBT,GACxDU,SACNF,SAASG,YAAY,QACrBC,YAAM,4BACR,MAAOC,GACLD,YAAM,6BA+BcE,CAAYd,KADhB,6BAIJ,2BACIE,KAAK,OACLa,MAAOZ,EACPa,UAAQ,EACRlB,UAAU,oBACVmB,MAAO,CAAEC,OAAQ,EAAGC,QAAS,EAAGC,SAAU,QAASC,KAAM,SACzDC,SAAU,mBAS1B,kBAAC,IAAD,CACIC,QAAShC,EACTiC,KAAM,WAAOhC,GAAU,KAF3B","file":"static/js/5.a2efc244.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Card, connect, Loading, Modal} from '../../components';\nimport {toast} from '../../utils';\nimport {getFundsPool} from \"../../service\";\nimport './style.scss';\n\nfunction Pool({address}) {\n    const [list, setList] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [showNotice, setNotice] = useState(true);\n\n    useEffect(() => {\n        if (!address) return;\n        setLoading(true);\n        getFundsPool(address).then(({data}) => {\n            if (data.ret) {\n                setList(data.data);\n            }\n            setLoading(false);\n        }, () => {\n            setLoading(false);\n        })\n    }, [address]);\n\n    const copyAddress = (index) => {\n        try {\n            const input = document.querySelectorAll('.address-container')[index];\n            input.select();\n            document.execCommand('Copy');\n            toast('复制成功');\n        } catch (e) {\n            toast('复制失败');\n        }\n    };\n\n    return (\n        <div className='p-pool'>\n            {loading && <Loading />}\n            {list.map(({type, addr, amount, unit}, index) => {\n                let name;\n                switch (type) {\n                    case 2:\n                        name = '矿池回购基金';\n                        break;\n                    case 3:\n                        name = '双倍回购基金';\n                        break;\n                    case 4:\n                        name = '已销毁';\n                        break;\n                    case 5:\n                        name = '退回';\n                        break;\n                    default:\n                        name = `type ${type}`;\n                }\n                return (\n                    <Card key={index} className='list-item'>\n                        <p className='p1'>{name}: <i>{amount/1e8} {unit}</i></p>\n                        <p className='p2'>基金账户: {addr}</p>\n                        <div className='bottom'>\n                            <button className='c-btn' onClick={() => {\n                                copyAddress(index);\n                            }}>复制地址</button>\n                        </div>\n                        <input\n                            type=\"text\"\n                            value={addr}\n                            readOnly\n                            className=\"address-container\"\n                            style={{ border: 0, padding: 0, position: 'fixed', left: '-100%' }}\n                            onChange={() => {}}\n                        />\n                    </Card>\n                )\n            })}\n            {/*<div className='circle'>\n                <p className='p1'>距离停盘发放还剩</p>\n                <p className='p2'>XXX <i>DOS</i></p>\n            </div>*/}\n            <Modal\n                visible={showNotice}\n                onOk={() => {setNotice(false)}}\n            >每2周汇聚一次资金，以防止手续费频繁支付。</Modal>\n        </div>\n    )\n};\n\nexport default connect()(Pool);\n"],"sourceRoot":""}