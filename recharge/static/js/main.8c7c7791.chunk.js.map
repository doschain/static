{"version":3,"sources":["service/index.js","utils/elementToPageTop.js","utils/addZero.js","utils/asyncComponent.js","utils/basicURL.js","utils/parseQuery.js","utils/axios.js","utils/toast.js","utils/returnTxCache.js","utils/index.js","components/GlobalContext/index.js","components/Card/index.js","components/Loading/index.js","components/Input/index.js","components/MaskLoading/index.js","components/Modal/index.js","components/index.js","Router.js","App.js","index.js"],"names":["getBalance","address","axios","get","getPMR","recharge","addr","rawtx","post","orders","page","limit","returnRecharge","id","getGains","getFundsPool","getLevel","elementToPageTop","number","String","replace","importComponent","props","state","component","default","this","setState","C","React","Component","imgSrc","process","formatQuery","params","obj","constructor","toString","match","query","key","slice","getQuery","window","location","search","split","length","queryObjs","forEach","item","value","instance","create","baseURL","timeout","msg","duration","isNaN","m","document","createElement","innerHTML","style","cssText","body","appendChild","setTimeout","webkitTransition","opacity","removeChild","d","getRecords","records","localStorage","recordsJson","JSON","parse","e","set","tx","stringify","remove","GlobalContext","createContext","connect","formatter","forwardRef","ref","Consumer","updateStore","rest","store","Object","assign","Card","children","className","Loading","Input","placeholder","onClick","onChange","demos","showKeyboard","multiple","then","data","domNode","getElementById","ReactDOM","createPortal","Modal","visible","onOk","Home","asyncComponent","Records","ReferralCode","Pool","RechargeRecords","exact","path","to","timer","getPrice","level","n_a","BigNumber","times","Number","plus","App","initial","useState","saveState","useCallback","newState","prev","useSetState","balance","btcLight","genesis","status","stop","surplus","PMR","levelApply","rechargePrice","blackHole","code","maxbtc","updateLevel","ret","apply","pmr","getLevelCtrl","clearTimeout","getIdentity","Pa","Promise","resolve","btclight","option","blackhold","Pb","all","r1","r2","useEffect","a","currency","toast","getAddress","Provider","Router","html","getElementsByTagName","resize","fontSize","Math","min","clientWidth","addEventListener","initHtmlFontSize","render"],"mappings":"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","file":"static/js/main.8c7c7791.chunk.js","sourcesContent":["import {axios} from '../utils'\n\n/** 获取余额 **/\nexport const getBalance = (address) => {\n    return axios.get(`/api/addr/${address}`)\n};\n\n/** 获取PMR **/\nexport const getPMR = () => {\n    return axios.get('/api/pmr')\n};\n\n/** 兑换 **/\nexport const recharge = ({address, addr, rawtx}) => {\n    return axios.post(`/api/addr/${address}/recharge/v2`, {addr, rawtx});\n};\n\n/** 兑换记录 **/\nexport const orders = ({address, page = 1, limit = 1000000}) => {\n    return axios.get(`/api/addr/${address}/orders?page=${page}&limit=${limit}`)\n};\n\n/** 回退 **/\nexport const returnRecharge = ({address, id, rawtx}) => {\n    return axios.post(`/api/addr/${address}/repent`, {id, rawtx});\n};\n\n/** 收益记录 **/\nexport const getGains = ({address, page = 1, limit = 1000000}) => {\n    return axios.get(`/api/addr/${address}/gains?page=${page}&limit=${limit}`)\n};\n\n/** 基金池 **/\nexport const getFundsPool = () => {\n    return axios.get('/api/funds')\n};\n\n/** 基金池 **/\nexport const getLevel = () => {\n    return axios.get('/api/state')\n};\n","function elementToPageTop(el) {\n    return el.offsetParent ? elementToPageTop(el.offsetParent) + el.offsetTop : el.offsetTop\n}\n\nexport default elementToPageTop\n","export default number => String(number).replace(/^(?=(\\d))\\1$/, '0$1')","import React from \"react\";\n\nexport default importComponent => {\n    class AsyncComponent extends React.Component {\n        constructor(props) {\n            super(props);\n\n            this.state = {\n                component: null\n            };\n        }\n\n        async componentDidMount() {\n            const { default: component } = await importComponent();\n\n            this.setState({\n                component: component\n            });\n        }\n\n        render() {\n            const C = this.state.component;\n\n            return C ? < C {...this.props }\n            /> : null;\n        }\n    }\n\n    return AsyncComponent;\n};","export default {\n    imgSrc: `${process.env.PUBLIC_URL}/images`\n};\n","function isObject(obj) {\n    if (obj === 0) return false;\n    return (\n        obj &&\n        obj.constructor &&\n        obj.constructor.toString().match(/function\\s*([^(]*)/)[1] === \"Object\"\n    );\n}\n\n/**\n *\n * @param {Object} params\n */\nfunction formatQuery(params) {\n    if (!isObject(params)) return \"\";\n\n    let query = \"\";\n    for (const key in params) {\n        query += `${key}=${params[key]}&`;\n    }\n    return query.slice(0, -1);\n}\n\n/**\n * @des 获取query参数\n */\n\nfunction getQuery(key) {\n    let query = window.location.search.slice(1);\n    query = query.split(\"&\");\n\n    if (query.length === 0) return null;\n    const queryObjs = {};\n\n    query.forEach(item => {\n        const [key, value] = item.split(\"=\");\n        queryObjs[key] = value;\n    });\n\n    if (!key) return queryObjs;\n    return queryObjs[key] || null;\n}\n\nexport default { formatQuery, getQuery };","import axios from 'axios'\n// import {getAuth} from \"./auth\";\n// import {message} from \"antd\";\n// import history from \"../history\";\nconst instance = axios.create({\n  // baseURL: 'https://dapp.doschain.org/cracy/',\n  // baseURL: process.env.NODE_ENV === 'production' ? 'https://dapp.doschain.org/recharge' : '/recharge',\n  // baseURL: 'https://games-testnet.doschain.org/recharge',\n  baseURL: '/recharge',\n  timeout: 10000,\n});\n\n// 拦截器\n// instance.interceptors.response.use((response) => {\n//   if (response.data && response.data.errCode === \"1\") {\n//     const msg = response.data.errMsg;\n//     msg && message.error(msg);\n//     history.push('/login');\n//   }\n//   return response\n// }, (error) => {\n//   return Promise.reject(error)\n// });\n//\n// instance.interceptors.request.use((config) => {\n//   if (config.data && config.method === 'post') {\n//     config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n//     let ret = '';\n//     for (let it in config.data) {\n//       ret += encodeURIComponent(it) + '=' + encodeURIComponent(config.data[it]) + '&'\n//     }\n//     config.data = ret.substring(0, ret.length - 1);\n//   }\n//\n//   const token = getAuth();\n//   if (token) {\n//     if (config.method === 'get') {\n//       config.params = Object.assign(config.params || {}, {token});\n//     } else if (config.method === 'post'){\n//       config.data = `${config.data ? `${config.data}&` : ''}token=${token}`\n//     }\n//   }\n//\n//   return config\n// }, (error) => {\n//   return Promise.reject(error)\n// });\n\nexport default instance\n","export default function (msg, duration){\n  duration = isNaN(duration) ? 3000 : duration;\n  const m = document.createElement('div');\n  m.innerHTML = msg;\n  m.style.cssText=\"max-width:80%;min-width: 80px;padding: 10px 14px;word-break: break-all;line-height:1.5;color: rgb(255, 255, 255);text-align: center;border-radius: 4px;position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 999999;background: rgba(0, 0, 0,.7);font-size: 16px;\";\n  document.body.appendChild(m);\n  setTimeout(function() {\n    const d = 0.5;\n    m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';\n    m.style.opacity = '0';\n    setTimeout(function() { document.body.removeChild(m) }, d * 1000);\n  }, duration);\n};\n","function getRecords(address) {\n    let records = localStorage[`rechargeReturn_${address}`];\n    let recordsJson = {};\n    if (records) {\n        try {\n            recordsJson = JSON.parse(records);\n        } catch (e) {}\n    }\n\n    return recordsJson\n}\n\nexport default {\n    get: function (address, id) {\n        let recordsJson = getRecords(address);\n        return recordsJson[id] || '';\n    },\n    set: function (address, id, tx) {\n        let recordsJson = getRecords(address);\n        recordsJson[id] = tx;\n        localStorage[`rechargeReturn_${address}`] = JSON.stringify(recordsJson);\n    },\n    remove: function (address, id) {\n        let recordsJson = getRecords(address);\n        delete recordsJson[id];\n        localStorage[`rechargeReturn_${address}`] = JSON.stringify(recordsJson);\n    }\n}\n","export { default as className } from \"./className\";\nexport { default as elementToPageTop } from \"./elementToPageTop\";\nexport { default as addZero } from \"./addZero\";\nexport { default as asyncComponent } from \"./asyncComponent\";\nexport { default as basicURL } from \"./basicURL\";\nexport { default as parseQuery } from \"./parseQuery\";\nexport { default as axios } from \"./axios\";\nexport { default as toast } from \"./toast\";\nexport { default as returnTxCache } from \"./returnTxCache\";\n","import React, { forwardRef } from \"react\";\nconst GlobalContext = React.createContext(null);\nconst connect = formatter => {\n  return Component => {\n    return forwardRef((props, ref) => (\n      <GlobalContext.Consumer>\n        {({ updateStore, ...rest }) => {\n          let store = Object.assign({}, rest);\n          if (typeof formatter === \"function\") {\n            store = formatter(store);\n          }\n          return (\n            <Component\n              {...props}\n              {...store}\n              updateStore={updateStore}\n              ref={ref}\n            />\n          );\n        }}\n      </GlobalContext.Consumer>\n    ));\n  };\n};\n\nexport { GlobalContext, connect };\n","import React from \"react\";\nimport './style.scss';\n\nexport default function Card ({children, className = ''}) {\n  return (\n      <div className={`c-card ${className}`}>\n        {children}\n        <i />\n      </div>\n  );\n}\n","import React from \"react\";\nimport './style.scss';\n\nexport default function Loading () {\n  return (\n      <div className={`c-loading`}>\n        Loading...\n      </div>\n  );\n}\n","import React from \"react\";\n// import './style.scss';\n\nimport {elementToPageTop, toast} from \"../../utils\";\n\n// let instances = {};\n// let lastActive;\n\n// document.body.addEventListener('click', function (e) {\n//     let target = e.target;\n//     if (lastActive && instances[lastActive.id] && !instances[target.id]) {\n//         window.demos.hideKeyboard();\n//     }\n//     lastActive = target;\n// });\n\nexport default function Input (props) {\n    const {value = '', placeholder = '', onClick, onChange, id, ...rest} = props;\n    // instances[id] = 1;\n\n    // function scroll(h, t) {\n    //     let offset = document.querySelector('.footer').offsetHeight;\n    //     let gap = 2;\n    //     let innerH = window.innerHeight;\n    //     document.querySelector('.main').scrollTo({top: t + h + offset + gap - innerH });\n    // }\n\n    function handleFocus(e) {\n        onClick && onClick(e);\n        window.demos.showKeyboard({\n            value: value,\n            placeholder: placeholder,\n            multiple: true\n        }).then(function (data){\n            onChange(data)\n        })\n\n        // let h = e.target.offsetHeight;\n        // let t = elementToPageTop(e.target);\n        //\n        // setTimeout(function () {\n        //     scroll(h, t);\n        // }, 400);\n    }\n\n    return (\n        <input\n            id={id}\n            value={value}\n            placeholder={placeholder}\n            onClick={handleFocus}\n            onChange={onChange}\n            {...rest}\n        />\n    );\n}\n","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport './style.scss';\n\n// let domNode = document.body;\nlet domNode = document.getElementById('root');\n\nexport default function Loading () {\n\n    return ReactDOM.createPortal(\n        <div className={`c-mask-loading`}>\n            <div className='c-mask-loading-card'>\n                <div className='c-mask-loading-spin' />\n            </div>\n        </div>,\n        domNode\n    );\n\n}\n","import React from \"react\";\nimport './style.scss';\n\nexport default function Modal ({children, className = '', visible, onOk}) {\n    const handleOk = () => {\n        onOk && onOk();\n    };\n\n    return visible ? (\n        <div className='c-modal-mask'>\n            <div className='c-modal-content'>\n                <div className='c-modal-body'>\n                    {children}\n                </div>\n                <div className='c-modal-footer' onClick={handleOk}>确 定</div>\n            </div>\n        </div>\n    ) : null\n}\n","export { GlobalContext, connect } from \"./GlobalContext\";\nexport {default as Card} from \"./Card\";\nexport {default as Loading} from \"./Loading\";\nexport {default as Input} from \"./Input\";\nexport {default as MaskLoading} from \"./MaskLoading\";\nexport {default as Modal} from \"./Modal\";\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport { asyncComponent } from \"./utils\";\n\nconst Home = asyncComponent(() => import(\"./pages/Home\"));\nconst Records = asyncComponent(() => import(\"./pages/Records\"));\nconst ReferralCode = asyncComponent(() => import(\"./pages/ReferralCode\"));\nconst Pool = asyncComponent(() => import(\"./pages/Pool\"));\nconst RechargeRecords = asyncComponent(() => import(\"./pages/RechargeRecords\"));\n\nexport default function ({children}) {\n    return (\n        <Router>\n            <div className='wrapper'>\n                <div className='main'>\n                    <Switch>\n                        <Route exact path=\"/\" component={Home} />\n                        <Route exact path=\"/records\" component={Records} />\n                        <Route exact path=\"/referral-code\" component={ReferralCode} />\n                        <Route exact path=\"/pool\" component={Pool} />\n                        <Route exact path=\"/recharge-records\" component={RechargeRecords} />\n                    </Switch>\n                </div>\n                <div className='footer'>\n                    <nav className='nav-bar'>\n                        <Link to='/'>首页</Link>\n                        <i />\n                        <Link to='recharge-records'>兑换记录</Link>\n                        <i />\n                        <Link to='/records'>收益记录</Link>\n                        <i />\n                        <Link to='/referral-code'>我的推广码</Link>\n                        <i />\n                        <Link to='pool'>资金池</Link>\n                    </nav>\n                </div>\n            </div>\n        </Router>\n    )\n};\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { GlobalContext } from \"./components\";\nimport Router from \"./Router\";\nimport \"./css/global.scss\";\nimport {getBalance, getPMR, getLevel} from \"./service\";\nimport BigNumber from \"bignumber.js\"\nimport {toast} from \"./utils\"\nlet timer = null;\nlet useSetState = (initial = {}) => {\n    const [state, saveState] = useState(initial)\n    const setState = useCallback((newState) => {\n      saveState(prev => ({...prev, ...newState}))\n    }, [])\n\n    return [state, setState]\n  }\nlet getPrice = (level) => {\n    let n_a = new BigNumber(1e-5);\n    let n_b = new BigNumber(1e-7);\n    return n_b.times(Number(level)).plus(n_a).toString();\n}\nfunction App() {\n    const [state, setState] = useSetState({\n        address: '', // 账户地址\n        balance: 0, // 余额\n        btcLight: '', // 合约地址\n        genesis: '', // 创世账号地址\n        status: 1, // 状态\n        stop: 0, // 停盘额度\n        surplus: 0, // 剩余额度\n        PMR: '--',\n        level: '--', // 层数\n        levelApply: 0, // 层数已兑换dos\n        rechargePrice: 0, // 兑换价格\n        blackHole: '', // 兑换价格\n        code: '', // 邀请码\n        maxbtc: 0, // 单次最大可使用BTC\n    });\n\n    const updateStore = newState => {\n        setState(newState);\n    };\n\n    const updateLevel = () => {\n        getLevel().then(({data}) => {\n            if (data.ret) {\n                const {apply, level, pmr, status, stop, surplus} = data.data;\n                updateStore({\n                    levelApply: apply,\n                    level,\n                    PMR: pmr,\n                    status,\n                    stop,\n                    surplus,\n                    rechargePrice: getPrice(level),\n                })\n                status === 0 && getLevelCtrl();\n            } else {\n                getLevelCtrl();\n            }\n        }, getLevelCtrl)\n    }\n\n    const getLevelCtrl = () => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {updateLevel()}, 2000)\n    }\n\n    useEffect( () => {\n        function addr() {\n            return new Promise(function (resolve) {\n                setTimeout(function () {\n                    // resolve({address: 'TcS8a787PfU8b754FeqWHbQFSykGUDpY4Uu'})\n                    resolve({address: 'TcASfmyoFiNobNaCHeiPMkWgGmovoxk1sqk', currency: 'DOS'})\n                }, 100)\n            })\n        }\n        async function getAddress () {\n            let {address, currency} = process.env.NODE_ENV === 'production'\n                ? await window.demos.getIdentity()\n                : await window.demos.getIdentity();\n                // : await addr();\n\n            if(currency === 'DOS') {\n                updateStore({address});\n                getIdentity(address);\n            } else {\n                toast('请切换到DOS钱包再试', 60000)\n            }\n        }\n\n        getAddress();\n    }, []);\n\n    function getIdentity (address) {\n        let Pa = new Promise(function (resolve) {\n            getBalance(address).then(({data}) => {\n                if (data.ret) {\n                    let {balance, btclight, genesis, status, stop, surplus, option, blackhold, code, maxbtc} = data.data;\n                    let level = option.split(',')[0] - 0;\n                    let levelApply = option.split(',')[1] - 0;\n                    resolve({\n                        address,\n                        balance,\n                        btcLight: btclight,\n                        genesis,\n                        status,\n                        stop,\n                        surplus,\n                        blackHole: blackhold,\n                        level,\n                        levelApply,\n                        rechargePrice: getPrice(level),\n                        code,\n                        maxbtc: maxbtc ? maxbtc * 1e-8 : 0\n                    })\n                }\n            });\n        });\n\n        let Pb = new Promise(function (resolve) {\n            getPMR().then(({data}) => {\n                if (data.ret) {\n                    resolve({PMR: data.data})\n                } else {\n                    resolve({})\n                }\n            }, function () {\n                resolve({})\n            })\n        });\n\n        Promise.all([Pa, Pb]).then(function ([r1, r2]) {\n            updateStore({...r1, ...r2});\n            r1.status === 0 && getLevelCtrl()\n        });\n    }\n\n    return (\n        <GlobalContext.Provider value={{ ...state, updateStore, getIdentity}}>\n            <Router />\n        </GlobalContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/global.scss';\nimport App from './App';\n\nconst initHtmlFontSize = () => {\n    const html = document.getElementsByTagName('html')[0];\n    const resize = () => {\n        html.style.fontSize = Math.min(document.body.clientWidth / 11.25, 66.6) + 'px';\n    };\n    window.addEventListener('resize', resize, false);\n    resize();\n};\ninitHtmlFontSize();\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}