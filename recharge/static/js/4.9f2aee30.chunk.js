(this.webpackJsonprecharge=this.webpackJsonprecharge||[]).push([[4],{115:function(e,t,a){"use strict";a.r(t);a(11),a(14);var n=a(10),c=a(0),r=a.n(c),l=a(22),s=(a(84),a(2)),i=a(13),o=a(19),m=a.n(o),u=a(85),d=!1;window.demos.canIUse("contractRaw").then((function(e){d=e})),t.default=Object(l.g)()((function(e){var t=e.address,a=e.balance,o=e.btcLight,p=e.genesis,b=e.status,g=e.stop,v=e.surplus,f=e.PMR,E=e.level,O=e.levelApply,j=e.rechargePrice,N=e.getIdentity,h=e.code,y=e.maxbtc,w=h||s.e.getQuery("invite")||"",C=Object(c.useState)(""),x=Object(n.a)(C,2),S=x[0],B=x[1],T=Object(c.useState)(w),k=Object(n.a)(T,2),R=(k[0],k[1],Object(c.useState)(!1)),P=Object(n.a)(R,2),D=P[0],I=P[1];function J(e){return 0===e?"0":new m.a(e).times(new m.a(1e-8)).toFixed(18).replace(/0*$/g,"")}return r.a.createElement("div",{className:"p-home"},r.a.createElement(l.a,{className:"list-item"},r.a.createElement("p",{className:"p1"},"\u5269\u4f59DOS: ",r.a.createElement("i",null,J(v))),r.a.createElement("p",{className:"p1"},"BTC\u4f59\u989d: ",r.a.createElement("i",null,J(a))),r.a.createElement("p",{className:"p2"},"\u521b\u4e16\u8d26\u6237\u5730\u5740: ",r.a.createElement("i",null,p||"--")),r.a.createElement("div",{className:"bottom"},r.a.createElement("button",{className:"c-btn",onClick:function(){if(p)try{document.getElementById("genesis-container").select(),document.execCommand("Copy"),Object(s.g)("\u590d\u5236\u6210\u529f")}catch(e){Object(s.g)("\u590d\u5236\u5931\u8d25")}}},"\u590d\u5236\u5730\u5740")),r.a.createElement("input",{type:"text",value:p,id:"genesis-container",readOnly:!0,style:{border:0,padding:0,position:"fixed",left:"-100%"},onChange:function(){}})),r.a.createElement("img",{src:"".concat(s.d.imgSrc,"/metcalfe.png"),alt:"btc",className:"metcalfe"}),r.a.createElement("div",{className:"pmr"},"PMR=",f),r.a.createElement("div",{className:"triangle"},r.a.createElement("div",null,r.a.createElement("i",null,"\u5f53\u524d",E,"\u5c42"))),0===b?r.a.createElement("div",{className:"status"},"\u72b6\u6001:\u6b63\u5e38"):r.a.createElement("div",{className:"status status-stop"},"\u72b6\u6001:\u505c\u76d8"),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u5f53\u524d\u5151\u6362\u4ef7\u683c: "),r.a.createElement("p",null,j," BTC")),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u8ddd\u79bb\u505c\u76d8: "),r.a.createElement("p",null,g/1e8," DOS")),r.a.createElement("div",{className:"label"},r.a.createElement("label",null,"\u53ef\u5151\u6362: "),r.a.createElement("p",null,function(){var e="--",t=S.trim()?Number(S):-1;if(Number(E)>=0&&t>=0){t*=1e8;var a=1e-8*function(){for(var e=0,a=O,n=E;;n++){var c=n;n>10246&&(c=10246);var r=4*(c+1)*1e8;if(0!==a){if(a>r){a-=r;continue}r-=a}var l=1e-5+1e-7*c,s=l*r;if(t<s){var i=t/l;return e+=Math.floor(i)}t-=s,e+=r}}();e="\u7ea6".concat(a," DOS")}return e}())),r.a.createElement("div",{className:"content"},r.a.createElement(l.c,{type:"text",placeholder:"\u82b1\u8d39BTC\u6570\u91cf",value:S,onChange:function(e){var t="string"===typeof e?e:e.target.value;B(t)},id:"p-home-1"}),w?r.a.createElement(l.a,{className:"invite"},"\u63a8\u8350\u5730\u5740: ",w):null,D&&r.a.createElement(l.e,null),r.a.createElement("button",{className:"c-btn",onClick:function(){if(1!==b)if(d){var e=Number(S),n=e>0?e+"":"";B(n),""!==n?y&&n>y?Object(s.g)("\u6700\u591a\u82b1\u8d39".concat(y,"BTC")):1e8*n>a?Object(s.g)("\u4f59\u989d\u4e0d\u8db3"):function(e){var a=new m.a(e),n=new m.a(1e8),c=a.times(n).toString();window.demos.contractRaw("pay",o,[{type:"uint256",value:c-0},{type:"string",value:"[3]"}]).then((function(e){I(!0),Object(i.g)({address:t,addr:w,rawtx:e}).then((function(e){var a=e.data;I(!1),a.ret?(Object(s.g)("\u5151\u6362\u6210\u529f"),B(""),N(t)):Object(s.g)(a.data)}),(function(e){I(!1),Object(s.g)(e.toString(),3e4)}))}),(function(e){Object(s.g)(e.toString(),3e4)}))}(n):Object(s.g)("\u8bf7\u586b\u5199\u82b1\u8d39BTC\u6570\u91cf")}else Object(s.g)("\u8bf7\u66f4\u65b0app");else Object(s.g)("\u5df2\u505c\u76d8")},disabled:D},"\u5151\u6362")),r.a.createElement("div",{className:"package-json"},"version: ",u.version))}))},84:function(e,t,a){},85:function(e){e.exports=JSON.parse('{"name":"recharge","version":"1.0.9","private":true,"dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","axios":"^0.19.2","bignumber.js":"^9.0.0","node-sass":"^4.13.1","qrcode":"^1.4.4","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"3.3.1","serve":"^11.3.0"},"scripts":{"start":"PORT=80 react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","serve":"serve build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"homepage":"/recharge"}')}}]);
//# sourceMappingURL=4.9f2aee30.chunk.js.map