/*! For license information please see 5.b3022b15.chunk.js.LICENSE.txt */
(this.webpackJsonputxo=this.webpackJsonputxo||[]).push([[5],{225:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return u}));var n="http://proxy-mainnet.doschain.org/insight";"games.doschain.org"!==window.location.host&&(n="http://35.220.198.141:8087");var r=function(e){return window.demos.request({method:"GET",url:"".concat(n,"/v1/api/user/").concat(e)})},c=function(e,t){return window.demos.request({method:"POST",url:"".concat(n,"/v1/api/user/").concat(e,"/bind"),data:{code:t}})},i=function(e,t){return window.demos.request({method:"POST",url:"".concat(n,"/v1/api/user/").concat(e,"/active"),data:{rawtx:t}})},s=function(e){var t=e.addr,a=e.type,r=void 0===a?0:a;return window.demos.request({method:"GET",url:"".concat(n,"/v1/api/matrix/").concat(t,"/").concat(r)})},l=function(e){var t=e.id,a=e.addr,r=e.type,c=e.rawtx;return window.demos.request({method:"POST",url:"".concat(n,"/v1/api/matrix/").concat(a,"/").concat(r,"/").concat(t,"/pay"),data:{rawtx:c}})},o=function(e){var t=e.addr,a=e.type,r=e.id;return window.demos.request({method:"GET",url:"".concat(n,"/v1/api/matrix/").concat(t,"/").concat(a,"/").concat(r)})},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return window.demos.request({method:"GET",url:"".concat(n,"/v1/api/matrix/").concat(e,"/").concat(t,"/").concat(a,"/orders?page=").concat(r,"&limit=").concat(c)})}},226:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)&&n.length){var i=r.apply(null,n);i&&e.push(i)}else if("object"===c)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},229:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=[{id:1,No:1,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:2,No:2,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:3,No:3,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:4,No:4,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:5,No:5,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:6,No:6,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:7,No:7,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:8,No:8,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:9,No:9,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:10,No:10,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:11,No:11,status:1,children:[0,0,0],num:0,repeat:0,hash:""},{id:12,No:12,status:1,children:[0,0,0],num:0,repeat:0,hash:""}],r=[{id:1,No:1,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:2,No:2,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:3,No:3,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:4,No:4,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:5,No:5,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:6,No:6,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:7,No:7,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:8,No:8,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:9,No:9,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:10,No:10,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:11,No:11,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""},{id:12,No:12,status:1,children:[0,0,0,0,0,0],num:0,repeat:0,hash:""}]},230:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return n}))},257:function(e,t,a){},258:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(40),i=a(13),s=a(10),l=a(230),o=a(0),u=a.n(o),d=a(226),m=a.n(d),h=a(56),p=a(18),f=a(57),v=a(93);a(257);function N(e){var t=e._t,a=e.id,n=e.No,r=e.num,c=e.repeat,i=e.price,s=void 0===i?0:i,l=e.status,o=void 0===l?1:l,d=e.children,h=e.className,p=e.onTap,N=void 0===p?function(){}:p;return u.a.createElement("div",{className:"x3-x4__matrix ".concat(h)},u.a.createElement(v.b,{to:"/detail/".concat(a,"/0"),className:m()(Object(f.a)({"x-button":1},"status_".concat(o),1))},u.a.createElement("span",{className:"No"},n),u.a.createElement("span",{className:m()({price:1,scale:s.toString().length>=6})},s),u.a.createElement("span",{className:m()({cart:1,"show-inlineBlock":2===o||4===o}),onClick:N},u.a.createElement("span",null,t("Buy"))),u.a.createElement("i",{className:m()({lock:1,"show-inlineBlock":1==o})})),u.a.createElement("div",{className:"x3-children"},u.a.createElement("div",{className:m()({"x-child":1,fill:d[0]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:d[1]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:d[2]})})),u.a.createElement("div",{className:"x3-barnchs"},u.a.createElement("div",null,u.a.createElement("div",{className:"top"}),u.a.createElement("div",{className:"bottom"})),u.a.createElement("div",null),u.a.createElement("div",null,u.a.createElement("div",{className:"top"}),u.a.createElement("div",{className:"bottom"}))),u.a.createElement("div",{className:"x-info"},u.a.createElement("span",null,r),u.a.createElement("span",null,c)))}function b(e){var t=e._t,a=e.id,n=e.No,r=e.num,c=e.repeat,i=e.children,s=e.status,l=void 0===s?1:s,o=e.price,d=void 0===o?0:o,h=e.className,p=e.onTap,N=void 0===p?function(){}:p;return u.a.createElement("div",{className:"x3-x4__matrix ".concat(h)},u.a.createElement(v.b,{to:"/detail/".concat(a,"/1"),className:m()(Object(f.a)({"x-button":1},"status_".concat(l),1))},u.a.createElement("span",{className:"No"},n),u.a.createElement("span",{className:m()({price:1,scale:d.toString().length>=6})},d),u.a.createElement("span",{className:m()({cart:1,"show-inlineBlock":2===l||4===l}),onClick:N},u.a.createElement("span",null,t("Buy"))),u.a.createElement("i",{className:m()({lock:1,"show-inlineBlock":1==l})})),u.a.createElement("div",{className:"x4-branchs-level1"},u.a.createElement("div",{className:"line"}),u.a.createElement("div",{className:"rect"})),u.a.createElement("div",{className:"x4-children__level1"},u.a.createElement("div",{className:m()({"x-child":1,fill:i[0]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:i[1]})})),u.a.createElement("div",{className:"x4-branchs-level2"},u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null)),u.a.createElement("div",{className:"x4-children__level2"},u.a.createElement("div",{className:m()({"x-child":1,fill:i[2]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:i[3]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:i[4]})}),u.a.createElement("div",{className:m()({"x-child":1,fill:i[5]})})),u.a.createElement("div",{className:"x-info"},u.a.createElement("span",null,r),u.a.createElement("span",null,c)))}var E=a(229),x=a(225),w=(a(258),function(e,t){for(var a=new Array(e).fill(0),n=0;n<e;n++)a[n]=n<t?1:0;return a}),O=function(e,t){var a=0===e?Object(l.a)(E.a):Object(l.a)(E.b);return a=a.map((function(e,a){return e.price=t*Math.pow(2,a),e}))};t.default=Object(h.h)()((function(e){var t=e.history,a=e.history.location.state,n=e.t,l=Object(o.useContext)(h.c).address,d=Object(o.useState)(""),f=Object(s.a)(d,2),v=f[0],E=f[1],j=Object(o.useState)(0==(null===a||void 0===a?void 0:a.tab)||(null===a||void 0===a?void 0:a.tab)?a.tab:0),g=Object(s.a)(j,2),y=g[0],k=g[1],_=Object(o.useState)(!1),T=Object(s.a)(_,2),S=T[0],q=T[1],A=Object(o.useState)(!1),C=Object(s.a)(A,2),B=C[0],P=C[1],G="",X="",J="",L=sessionStorage["white_crow_".concat(l)];L?(L=JSON.parse(L),G=L.address,J=L.qoute,X=L.price/1e8):l&&t.push("/");var M=Object(o.useState)(O(0,X)),D=Object(s.a)(M,2),F=D[0],I=D[1];Object(o.useEffect)((function(){l&&R(y)}),[l,y]);var R=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i,s,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,Object(x.e)({addr:l,type:t});case 3:if(a=e.sent,n=a.code,i=a.data,s=void 0===i?[]:i,P(!1),console.log("list",s),o=s.length,u=O(t,X),200===n&&0!==o){e.next=14;break}return I(u),e.abrupt("return");case 14:if(12!==o){e.next=18;break}return u=u.map((function(e,t){return e.status=t<11?3:s[11].hash?4:3,e.children=w(0===y?3:6,s[t].index),Object(c.a)({},e,{},s[t])})),I(u),e.abrupt("return");case 18:u.forEach((function(e,t){var a=s.find((function(t){return t.id===e.id}));a?(u[t].status=a.hash?4:3,u[t]=Object(c.a)({},u[t],{},a),u[t].children=w(0===y?3:6,a.index)):(u[t].status=t===o?s[o-1].hash?1:2:1,u[t].children=w(0===y?3:6,0))})),I(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){e!==y&&k(e)},H=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n,c,i,s,o,u,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),a.preventDefault(),n=t.id,1!==(c=t.status)&&3!==c){e.next=5;break}return e.abrupt("return");case 5:if(4!==c){e.next=10;break}return E(t.hash),q(!0),K(t.hash),e.abrupt("return");case 10:if(!window["".concat(t.id,"_lock")]){e.next=12;break}return e.abrupt("return");case 12:return window["".concat(t.id,"_lock")]=!0,P(!0),e.next=16,window.demos.balance("dos").catch((function(e){window["".concat(t.id,"_lock")]=null,P(!1)}));case 16:if(i=e.sent,P(!1),window["".concat(t.id,"_lock")]=null,i&&!(1e8*i<t.price)){e.next=22;break}return Object(p.e)(2001),e.abrupt("return");case 22:return e.next=24,window.demos.contractRaw("send",J,[{type:"address",value:G},{type:"uint256",value:1e8*t.price}]).catch((function(e){console.error(e)}));case 24:return s=e.sent,o={addr:l,type:y,id:n,rawtx:s},e.next=28,Object(x.c)(o);case 28:u=e.sent,d=u.code,m=u.data,200===d?(E(m),q(!0),K(m)):Object(p.e)(d);case 32:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e){if(e){var t=null;try{var a=function(){var c=Object(i.a)(r.a.mark((function c(){var i,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.demos.dosdata.expand.transaction(e).catch((function(e){console.log("err",e)}));case 2:i=r.sent,(s=i.confirmations)&&s>=1?(Object(p.f)(n("success")),clearTimeout(t),q(!1),R(y)):t=setTimeout(a,2e3);case 5:case"end":return r.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();clearTimeout(t),t=setTimeout(a,2e3)}catch(c){console.error(c)}}};return console.log("matrisList",F),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"matrix-page"},u.a.createElement(h.g,Object.assign({title:n("Matrix")},e,{onClickLeft:function(){t.push("/")}})),u.a.createElement("div",{className:"main"},u.a.createElement("div",{className:"tab"},u.a.createElement("button",{className:m()({active:0===y}),onClick:function(){return z(0)}},"X3"),u.a.createElement("button",{className:m()({active:1===y}),onClick:function(){return z(1)}},"X4")),u.a.createElement(h.a,{className:m()({"p-r-20 p-l-20":1==y})},u.a.createElement("div",{className:"info"},u.a.createElement("span",null,n("white_crow")),u.a.createElement("span",null,0===y?"X3":"X4")),u.a.createElement("div",{className:"matrix-list"},F.map((function(e){return 0===y?u.a.createElement(N,Object.assign({key:e.id,className:"m-b-80 p-r-20 p-l-20",_t:n,onTap:function(t){return H(e,t)}},e)):u.a.createElement(b,Object.assign({key:e.id,className:"m-b-80",_t:n,onTap:function(t){return H(e,t)}},e))})))))),u.a.createElement(h.b,{hash:v,visible:S,onCancel:function(){q(!1)}}),B&&u.a.createElement(h.e,null))}))}}]);